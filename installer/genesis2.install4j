<?xml version="1.0" encoding="UTF-8"?>
<install4j version="6.1.1" transformSequenceNumber="5">
  <directoryPresets config="../lib/production.container.log4j.properties" />
  <application name="Genesis II GFFS" distributionSourceDir="" applicationId="6720-3221-4648-0706" mediaDir="./Media" mediaFilePattern="${compiler:sys.shortName}-${compiler:sys.platform}-${compiler:genii.simple-name}-v${compiler:sys.version}" compression="6" lzmaCompression="false" pack200Compression="false" excludeSignedFromPacking="true" commonExternalFiles="false" createMd5Sums="true" shrinkRuntime="true" shortName="genesis2-${compiler:genii.simple-name}" publisher="${compiler:genii.publisher}" publisherWeb="${compiler:genii.publisher-url}" version="${compiler:genii.app-version}" allPathsRelative="true" backupOnSave="true" autoSave="true" convertDotsToUnderscores="false" macSignature="????" macVolumeId="57c117fbfcc34f6f" javaMinVersion="1.7" javaMaxVersion="" allowBetaVM="false" jdkMode="jdk" jdkName="JDK 1.7">
    <languages skipLanguageSelection="false" languageSelectionInPrincipalLanguage="false">
      <principalLanguage id="en" customLocalizationFile="" />
      <additionalLanguages />
    </languages>
    <searchSequence>
      <registry />
      <envVar name="JAVA_HOME" />
      <envVar name="JDK_HOME" />
    </searchSequence>
    <variables>
      <variable name="genii.build-number" value="0" description="" category="" />
      <variable name="genii.xcg-port" value="18443" description="" category="" />
      <variable name="genii.container-memory.fraction" value="0.25" description="" category="" />
      <variable name="genii.container-memory.upper-limit" value="4096" description="" category="" />
      <variable name="genii.container-memory.lower-limit" value="1024" description="" category="" />
      <variable name="genii.client-memory.normal" value="2048" description="" category="" />
      <variable name="genii.client-memory.win32" value="2040" description="" category="" />
      <variable name="genii.app-version" value="0.0.0" description="The version of this GenesisII installer release." category="" />
      <variable name="genii.new-deployment" value="currant_urgh" description="" category="" />
      <variable name="genii.publisher" value="the-publisher" description="" category="" />
      <variable name="genii.publisher-url" value="wherethepublisheris.com" description="" category="" />
      <variable name="genii.deployment-source" value="deployment_base/gffs_eu" description="" category="" />
      <variable name="genii.deployment-context" value="context.xml" description="" category="" />
      <variable name="genii.deployment-name" value="deployment-name-goes-here" description="" category="" />
      <variable name="genii.user-path" value="/fillin/users" description="" category="" />
      <variable name="genii.generate-certs" value="true" description="" category="" />
      <variable name="genii.simple-name" value="testing" description="" category="" />
      <variable name="genii.release-number" value="8" description="" category="" />
      <variable name="genii.name-addin" value="nothing" description="" category="" />
    </variables>
    <mergedProjects />
    <codeSigning macEnabled="false" macPkcs12File="" windowsEnabled="false" windowsKeySource="pkcs12" windowsPvkFile="" windowsSpcFile="" windowsPkcs12File="" />
  </application>
  <files keepModificationTimes="true" missingFilesStrategy="warn" globalExcludeSuffixes="*.keytab,*.tmp,.svn,.git" defaultOverwriteMode="4" defaultUninstallMode="0" launcherOverwriteMode="3" defaultFileMode="644" defaultDirMode="755">
    <filesets>
      <fileset name="Deployment Files" id="5992" customizedId="" />
      <fileset name="Careful lib folder" id="8166" customizedId="" />
      <fileset name="toolkit" id="8738" customizedId="" />
    </filesets>
    <roots>
      <root id="5993" fileset="5992" location="" />
      <root id="8167" fileset="8166" location="" />
      <root id="8739" fileset="8738" location="" />
    </roots>
    <mountPoints>
      <mountPoint id="7606" root="" location="ext" mode="755" />
      <mountPoint id="3944" root="" location="jre-addin" mode="755" />
      <mountPoint id="7211" root="" location="scripts" mode="755" />
      <mountPoint id="11810" root="" location="bin" mode="755" />
      <mountPoint id="34" root="" location="" mode="755" />
      <mountPoint id="5994" root="5993" location="deployments" mode="755" />
      <mountPoint id="5995" root="5993" location="deployments/default" mode="755" />
      <mountPoint id="7004" root="5993" location="deployments/${compiler:genii.new-deployment}" mode="755" />
      <mountPoint id="10165" root="5993" location="deployments/${compiler:genii.new-deployment}/configuration" mode="755" />
      <mountPoint id="10166" root="5993" location="deployments/${compiler:genii.new-deployment}/security" mode="755" />
      <mountPoint id="8168" root="8167" location="lib" mode="755" />
      <mountPoint id="8740" root="8739" location="" mode="755" />
    </mountPoints>
    <entries>
      <fileEntry mountPoint="7606" file="../scripts/genii-base-application.properties" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="7606" file="../scripts/genii-client-application.properties" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="7606" file="../scripts/genii-container-application.properties" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="7606" file="../ext/ntrights.exe" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="false" overrideUninstallMode="false" />
      <fileEntry mountPoint="7606" file="../scripts/genii-certtool-application.properties" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="3944" file="unlimited_jce_java8/US_export_policy.jar" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="3944" file="unlimited_jce_java8/local_policy.jar" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="7211" file="./scripts/main_installation_script.sh" overwriteMode="1" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="7211" file="./scripts/configure_container.sh" overwriteMode="1" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="false" />
      <fileEntry mountPoint="7211" file="./scripts/convert_container.sh" overwriteMode="1" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="false" />
      <fileEntry mountPoint="7211" file="./scripts/installation_helpers.sh" overwriteMode="1" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="false" />
      <fileEntry mountPoint="7211" file="./scripts/update_deployment.sh" overwriteMode="1" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="false" />
      <fileEntry mountPoint="7211" file="./scripts/update_install_location.sh" overwriteMode="1" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="false" />
      <fileEntry mountPoint="7211" file="../scripts/gffschown.template" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="false" overrideUninstallMode="false" />
      <fileEntry mountPoint="7211" file="../scripts/proxyio.launcher.template" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="false" overrideUninstallMode="false" />
      <fileEntry mountPoint="11810" file="../scripts/cert-tool" overwriteMode="4" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="false" overrideUninstallMode="false" />
      <fileEntry mountPoint="11810" file="../scripts/fastgrid" overwriteMode="4" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="false" overrideUninstallMode="false" />
      <dirEntry mountPoint="34" file=".." overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" entryMode="direct" subDirectory="" excludeSuffixes=".svn, derby.log, context.xml, *.class, *.tmp, *.fred" dirMode="755" overrideDirMode="true">
        <exclude>
          <entry location="tests" fileType="regular" />
          <entry location="bin.ant" fileType="regular" />
          <entry location="set_gffs_vars" fileType="regular" />
          <entry location="bin" fileType="regular" />
          <entry location="build.properties" fileType="regular" />
          <entry location=".project" fileType="regular" />
          <entry location="deployments" fileType="regular" />
          <entry location="grid" fileType="regular" />
          <entry location="lib" fileType="regular" />
          <entry location="bin.eclipse" fileType="regular" />
          <entry location="ext/genii-base-application.properties" fileType="regular" />
          <entry location="ext/genii-certtool-application.properties" fileType="regular" />
          <entry location="ext/genii-container-application.properties" fileType="regular" />
          <entry location="ext/genii-client-application.properties" fileType="regular" />
          <entry location="JavaServiceWrapper/wrapper-delta-pack-3.3.5.tar.gz" fileType="regular" />
          <entry location="JavaServiceWrapper/wrapper/jdoc" fileType="regular" />
          <entry location="JavaServiceWrapper/wrapper/src" fileType="regular" />
          <entry location="JavaServiceWrapper/wrapper/jdoc.tar.gz" fileType="regular" />
          <entry location="JavaServiceWrapper/wrapper/doc" fileType="regular" />
          <entry location="unit-test-reports" fileType="regular" />
          <entry location="scripts" fileType="regular" />
          <entry location="jar-desc.xml" fileType="regular" />
          <entry location=".svn" fileType="regular" />
          <entry location="installer" fileType="regular" />
          <entry location="Readme.txt" fileType="regular" />
          <entry location="context.xml" fileType="regular" />
          <entry location=".settings" fileType="regular" />
          <entry location="retired" fileType="regular" />
          <entry location="src" fileType="regular" />
          <entry location="generated" fileType="regular" />
          <entry location="build.xml" fileType="regular" />
          <entry location=".classpath" fileType="regular" />
          <entry location="BUILDME" fileType="regular" />
          <entry location="libraries" fileType="regular" />
          <entry location="toolkit" fileType="regular" />
        </exclude>
      </dirEntry>
      <fileEntry mountPoint="34" file="../scripts/jar-desc.xml" overwriteMode="4" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="34" file="../scripts/set_gffs_vars" overwriteMode="4" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="false" overrideUninstallMode="false" />
      <dirEntry mountPoint="34" file="../generated" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="false" entryMode="subdir" subDirectory="ext" excludeSuffixes="" dirMode="755" overrideDirMode="false">
        <exclude />
      </dirEntry>
      <dirEntry mountPoint="34" file="../bin" overwriteMode="1" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="false" entryMode="subdir" subDirectory="bin" excludeSuffixes="" dirMode="755" overrideDirMode="false">
        <exclude>
          <entry location="gffschown" fileType="regular" />
          <entry location="cert-tool" fileType="regular" />
          <entry location="fastgrid" fileType="regular" />
          <entry location="grid" fileType="regular" />
          <entry location="proxyio.launcher" fileType="regular" />
          <entry location="runContainer.sh" fileType="regular" />
        </exclude>
      </dirEntry>
      <fileEntry mountPoint="34" file="../grid" overwriteMode="1" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="false" />
      <dirEntry mountPoint="5995" file="../deployments/default" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" entryMode="direct" subDirectory="" excludeSuffixes="" dirMode="755" overrideDirMode="true">
        <exclude>
          <entry location="configuration/web-container.properties" fileType="regular" />
          <entry location="configuration/security.properties" fileType="regular" />
          <entry location="configuration/server-config.xml" fileType="regular" />
        </exclude>
      </dirEntry>
      <fileEntry mountPoint="10165" file="${compiler:genii.deployment-source}/configuration/myproxy.properties" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="10165" file="${compiler:genii.deployment-source}/configuration/namespace.properties" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="10166" file="${compiler:genii.deployment-source}/security/trusted.pfx" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <dirEntry mountPoint="7004" file="${compiler:genii.deployment-source}" overwriteMode="0" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="true" overrideUninstallMode="true" entryMode="direct" subDirectory="" excludeSuffixes="" dirMode="755" overrideDirMode="true">
        <exclude />
      </dirEntry>
      <fileEntry mountPoint="7004" file="${compiler:genii.deployment-source}/${compiler:genii.deployment-context}" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <dirEntry mountPoint="8168" file="../lib" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="false" entryMode="direct" subDirectory="lib" excludeSuffixes="" dirMode="755" overrideDirMode="false">
        <exclude>
          <entry location="build.client.log4j.properties" fileType="regular" />
          <entry location="lib.build.xml" fileType="regular" />
          <entry location="export.properties" fileType="regular" />
          <entry location="shared.log4j.properties" fileType="regular" />
          <entry location="production.container.log4j.properties" fileType="regular" />
          <entry location="build.client.log4j.properties.template" fileType="regular" />
          <entry location="build.container.log4j.properties.template" fileType="regular" />
          <entry location="production.client.log4j.properties" fileType="regular" />
          <entry location="production.container.log4j.properties.template" fileType="regular" />
          <entry location="build.container.log4j.properties" fileType="regular" />
          <entry location="production.client.log4j.properties.template" fileType="regular" />
          <entry location="gffs.exports" fileType="regular" />
        </exclude>
      </dirEntry>
      <fileEntry mountPoint="8168" file="./data_files/client.properties" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="8168" file="./data_files/container.properties" overwriteMode="1" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="true" />
      <fileEntry mountPoint="8168" file="../lib/production.client.log4j.properties" overwriteMode="0" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="false" />
      <fileEntry mountPoint="8168" file="../lib/production.container.log4j.properties" overwriteMode="0" shared="false" fileMode="644" uninstallMode="0" overrideFileMode="false" overrideOverwriteMode="true" overrideUninstallMode="false" />
      <dirEntry mountPoint="8740" file="../toolkit" overwriteMode="4" shared="false" fileMode="755" uninstallMode="0" overrideFileMode="true" overrideOverwriteMode="false" overrideUninstallMode="false" entryMode="subdir" subDirectory="toolkit" excludeSuffixes="*.fred" dirMode="755" overrideDirMode="false">
        <exclude />
      </dirEntry>
    </entries>
    <components>
      <component name="GenesisII Core" id="28" customizedId="" displayDescription="true" hideHelpButton="false" selected="true" changeable="false" downloadable="false" hidden="false">
        <description>The core set of libraries and files necessary to run Genesis II clients and servers.</description>
        <include all="false">
          <entry location="jre-addin" fileType="regular" />
          <entry location="scripts" fileType="regular" />
          <entry location="webapps" fileType="regular" />
          <entry location="dpages" fileType="regular" />
          <entry location="jni-libs" fileType="regular" />
          <entry location="grid" fileType="regular" />
          <entry location="current.version" fileType="regular" />
          <entry location="JavaServiceWrapper" fileType="regular" />
          <entry location="INSTALL" fileType="regular" />
          <entry location="current.deployment" fileType="regular" />
          <entry location="eclipse" fileType="regular" />
          <entry location="RELEASE" fileType="regular" />
          <entry location="docs" fileType="regular" />
          <entry location="License.txt" fileType="regular" />
          <entry location="bundles" fileType="regular" />
          <entry location="jar-desc.xml" fileType="regular" />
          <entry location="set_gffs_vars" fileType="regular" />
          <entry location="ext" fileType="regular" />
          <entry location="bin" fileType="regular" />
          <entry location=".i4j_fileset_8166" fileType="regular" />
          <entry location=".i4j_fileset_8738" fileType="regular" />
        </include>
        <dependencies />
      </component>
      <folder name="Documentation" id="30" customizedId="" displayDescription="false" hideHelpButton="false" expanded="false">
        <description>Various types of Genesis II documentation and examples.</description>
        <components>
          <component name="Documentation" id="29" customizedId="" displayDescription="false" hideHelpButton="false" selected="true" changeable="true" downloadable="true" hidden="false">
            <description />
            <include all="false">
              <entry location="doc" fileType="regular" />
            </include>
            <dependencies>
              <component id="28" />
            </dependencies>
          </component>
          <component name="Example JSDL Files" id="31" customizedId="" displayDescription="false" hideHelpButton="false" selected="true" changeable="true" downloadable="true" hidden="false">
            <description />
            <include all="false">
              <entry location="example-jsdl" fileType="regular" />
            </include>
            <dependencies>
              <component id="28" />
            </dependencies>
          </component>
          <component name="Example NativeQ Files" id="32" customizedId="" displayDescription="false" hideHelpButton="false" selected="true" changeable="true" downloadable="true" hidden="false">
            <description />
            <include all="false">
              <entry location="example-nativeq" fileType="regular" />
            </include>
            <dependencies>
              <component id="28" />
            </dependencies>
          </component>
        </components>
      </folder>
      <component name="GenesisII Container" id="40" customizedId="" displayDescription="false" hideHelpButton="false" selected="true" changeable="false" downloadable="false" hidden="false">
        <description>Components necessary for starting a Genesis II Container or Server.</description>
        <include all="false">
          <entry location="ext/genii-container-application.properties" fileType="regular" />
          <entry location=".i4j_external_20/JavaServiceWrapper" fileType="regular" />
          <entry location=".i4j_external_22/JavaServiceWrapper" fileType="regular" />
          <entry location=".i4j_external_24/JavaServiceWrapper" fileType="regular" />
          <entry location=".i4j_external_24/runContainer" fileType="launcher" />
          <entry location=".i4j_external_3621/JavaServiceWrapper" fileType="regular" />
          <entry location=".i4j_external_8976/JavaServiceWrapper" fileType="regular" />
        </include>
        <dependencies>
          <component id="28" />
        </dependencies>
      </component>
      <component name="GenesisII Deployments" id="6000" customizedId="" displayDescription="false" hideHelpButton="false" selected="true" changeable="true" downloadable="false" hidden="false">
        <description />
        <include all="false">
          <entry location=".i4j_fileset_5992" fileType="regular" />
        </include>
        <dependencies />
      </component>
      <component name="Ignored" id="6233" customizedId="" displayDescription="false" hideHelpButton="false" selected="true" changeable="true" downloadable="false" hidden="false">
        <description />
        <include all="false">
          <entry location="eclipse" fileType="regular" />
          <entry location="jni-libs" fileType="regular" />
          <entry location="deployments" fileType="regular" />
        </include>
        <dependencies />
      </component>
    </components>
  </files>
  <launchers>
    <launcher name="GFFSContainer" id="264" customizedId="" external="true" excludeFromMenu="true" unixMode="755" menuName="" externalFile="JavaServiceWrapper/wrapper/bin/GFFSContainer" />
    <launcher name="runContainer" id="1450" customizedId="" external="false" excludeFromMenu="true" unixMode="755" menuName="" icnsFile="" customMacBundleIdentifier="false" macBundleIdentifier="" swtApp="false" fileset="" macBundleBinary="JavaApplicationStub" addMacEntitlements="false" macEntitlementsFile="" useCustomMacosExecutableName="false" customMacosExecutableName="">
      <executable name="runContainer" type="1" iconSet="false" iconFile="" executableDir="bin" redirectStderr="false" stderrFile="stderr.log" stderrMode="overwrite" redirectStdout="false" stdoutFile="output.log" stdoutMode="overwrite" failOnStderrOutput="true" executableMode="2" changeWorkingDirectory="true" workingDirectory="." singleInstance="false" serviceStartType="2" serviceDependencies="" serviceDescription="" jreLocation="" executionLevel="asInvoker" checkConsoleParameter="false" globalSingleInstance="false" singleInstanceActivate="true" dpiAware="false">
        <versionInfo include="false" fileVersion="" fileDescription="" legalCopyright="" internalName="" productName="" />
      </executable>
      <splashScreen show="false" width="0" height="0" bitmapFile="" windowsNative="false" textOverlay="false">
        <text>
          <statusLine x="20" y="20" text="" fontSize="8" fontColor="0,0,0" bold="false" />
          <versionLine x="20" y="40" text="version ${compiler:sys.version}" fontSize="8" fontColor="0,0,0" bold="false" />
        </text>
      </splashScreen>
      <java mainClass="edu.virginia.vcgr.appmgr.launcher.ApplicationLauncher" vmParameters="" arguments="" allowVMPassthroughParameters="true" preferredVM="server" bundleRuntime="true">
        <classPath>
          <archive location="bundles/org.apache.commons.logging_1.1.1.v201101211721.jar" failOnError="false" />
          <scanDirectory location="ext" failOnError="false" />
        </classPath>
        <nativeLibraryDirectories>
          <directory name="jni-lib" />
        </nativeLibraryDirectories>
        <vmOptions />
      </java>
      <includedFiles />
      <unextractableFiles />
      <vmOptionsFile mode="content" overwriteMode="0" fileMode="644">
        <content>-Dlog4j.configuration=production.container.log4j.properties
-Dedu.virginia.vcgr.genii.install-base-dir=${installer:sys.installationDir}
-Dedu.virginia.vcgr.appwatch.application-description=${installer:sys.installationDir}/ext/genii-container-application.properties
-Xmx1024m</content>
      </vmOptionsFile>
      <customScript mode="1" file="">
        <content />
      </customScript>
      <infoPlist mode="1" file="">
        <content />
      </infoPlist>
      <iconImageFiles />
    </launcher>
    <launcher name="grid" id="39" customizedId="" external="false" excludeFromMenu="false" unixMode="755" menuName="" icnsFile="" customMacBundleIdentifier="false" macBundleIdentifier="" swtApp="false" fileset="" macBundleBinary="JavaApplicationStub" addMacEntitlements="false" macEntitlementsFile="" useCustomMacosExecutableName="false" customMacosExecutableName="">
      <executable name="grid" type="1" iconSet="false" iconFile="" executableDir="bin" redirectStderr="false" stderrFile="stderr.log" stderrMode="overwrite" redirectStdout="false" stdoutFile="output.log" stdoutMode="overwrite" failOnStderrOutput="true" executableMode="2" changeWorkingDirectory="false" workingDirectory="." singleInstance="false" serviceStartType="2" serviceDependencies="" serviceDescription="" jreLocation="" executionLevel="asInvoker" checkConsoleParameter="false" globalSingleInstance="false" singleInstanceActivate="true" dpiAware="false">
        <versionInfo include="false" fileVersion="" fileDescription="" legalCopyright="" internalName="" productName="" />
      </executable>
      <splashScreen show="false" width="0" height="0" bitmapFile="" windowsNative="false" textOverlay="false">
        <text>
          <statusLine x="20" y="20" text="" fontSize="8" fontColor="0,0,0" bold="false" />
          <versionLine x="20" y="40" text="version ${compiler:sys.version}" fontSize="8" fontColor="0,0,0" bold="false" />
        </text>
      </splashScreen>
      <java mainClass="edu.virginia.vcgr.appmgr.launcher.ApplicationLauncher" vmParameters="" arguments="" allowVMPassthroughParameters="true" preferredVM="client" bundleRuntime="true">
        <classPath>
          <directory location="lib" failOnError="false" />
          <scanDirectory location="ext" failOnError="false" />
          <archive location="bundles/org.apache.commons.logging_1.1.1.v201101211721.jar" failOnError="false" />
        </classPath>
        <nativeLibraryDirectories>
          <directory name="jni-lib" />
        </nativeLibraryDirectories>
        <vmOptions />
      </java>
      <includedFiles />
      <unextractableFiles />
      <vmOptionsFile mode="content" overwriteMode="4" fileMode="644">
        <content>-Dedu.virginia.vcgr.genii.net-name=grid
-Dlog4j.configuration=production.client.log4j.properties
-Dedu.virginia.vcgr.genii.install-base-dir=${installer:sys.installationDir}
-Dedu.virginia.vcgr.appwatch.application-description=${installer:sys.installationDir}/ext/genii-client-application.properties
-Xmx${compiler:genii.client-memory.normal}m</content>
      </vmOptionsFile>
      <customScript mode="1" file="">
        <content />
      </customScript>
      <infoPlist mode="1" file="">
        <content />
      </infoPlist>
      <iconImageFiles />
    </launcher>
    <launcher name="client-ui" id="1773" customizedId="" external="false" excludeFromMenu="false" unixMode="755" menuName="" icnsFile="" customMacBundleIdentifier="false" macBundleIdentifier="" swtApp="false" fileset="" macBundleBinary="JavaApplicationStub" addMacEntitlements="false" macEntitlementsFile="" useCustomMacosExecutableName="false" customMacosExecutableName="">
      <executable name="client-ui" type="1" iconSet="false" iconFile="" executableDir="bin" redirectStderr="false" stderrFile="stderr.log" stderrMode="overwrite" redirectStdout="false" stdoutFile="output.log" stdoutMode="overwrite" failOnStderrOutput="true" executableMode="1" changeWorkingDirectory="false" workingDirectory="." singleInstance="false" serviceStartType="2" serviceDependencies="" serviceDescription="" jreLocation="" executionLevel="asInvoker" checkConsoleParameter="false" globalSingleInstance="false" singleInstanceActivate="true" dpiAware="false">
        <versionInfo include="false" fileVersion="" fileDescription="" legalCopyright="" internalName="" productName="" />
      </executable>
      <splashScreen show="false" width="0" height="0" bitmapFile="" windowsNative="false" textOverlay="false">
        <text>
          <statusLine x="20" y="20" text="" fontSize="8" fontColor="0,0,0" bold="false" />
          <versionLine x="20" y="40" text="version ${compiler:sys.version}" fontSize="8" fontColor="0,0,0" bold="false" />
        </text>
      </splashScreen>
      <java mainClass="edu.virginia.vcgr.appmgr.launcher.ApplicationLauncher" vmParameters="" arguments="client-ui" allowVMPassthroughParameters="true" preferredVM="client" bundleRuntime="true">
        <classPath>
          <directory location="lib" failOnError="false" />
          <archive location="bundles/org.apache.commons.logging_1.1.1.v201101211721.jar" failOnError="false" />
          <scanDirectory location="ext" failOnError="false" />
        </classPath>
        <nativeLibraryDirectories>
          <directory name="jni-lib" />
        </nativeLibraryDirectories>
        <vmOptions />
      </java>
      <includedFiles />
      <unextractableFiles />
      <vmOptionsFile mode="content" overwriteMode="0" fileMode="644">
        <content>-Dedu.virginia.vcgr.genii.net-name=grid
-Dlog4j.configuration=production.client.log4j.properties
-Dedu.virginia.vcgr.genii.install-base-dir=${installer:sys.installationDir}
-Dedu.virginia.vcgr.appwatch.application-description=${installer:sys.installationDir}/ext/genii-client-application.properties
-Xmx${compiler:genii.client-memory.normal}m</content>
      </vmOptionsFile>
      <customScript mode="1" file="">
        <content />
      </customScript>
      <infoPlist mode="1" file="">
        <content />
      </infoPlist>
      <iconImageFiles />
    </launcher>
    <launcher name="grid32" id="5619" customizedId="" external="false" excludeFromMenu="false" unixMode="755" menuName="" icnsFile="" customMacBundleIdentifier="false" macBundleIdentifier="" swtApp="false" fileset="" macBundleBinary="JavaApplicationStub" addMacEntitlements="false" macEntitlementsFile="" useCustomMacosExecutableName="false" customMacosExecutableName="">
      <executable name="grid" type="1" iconSet="false" iconFile="" executableDir="bin" redirectStderr="false" stderrFile="stderr.log" stderrMode="overwrite" redirectStdout="false" stdoutFile="output.log" stdoutMode="overwrite" failOnStderrOutput="true" executableMode="2" changeWorkingDirectory="false" workingDirectory="." singleInstance="false" serviceStartType="2" serviceDependencies="" serviceDescription="" jreLocation="" executionLevel="asInvoker" checkConsoleParameter="false" globalSingleInstance="false" singleInstanceActivate="true" dpiAware="false">
        <versionInfo include="false" fileVersion="" fileDescription="" legalCopyright="" internalName="" productName="" />
      </executable>
      <splashScreen show="false" width="0" height="0" bitmapFile="" windowsNative="false" textOverlay="false">
        <text>
          <statusLine x="20" y="20" text="" fontSize="8" fontColor="0,0,0" bold="false" />
          <versionLine x="20" y="40" text="version ${compiler:sys.version}" fontSize="8" fontColor="0,0,0" bold="false" />
        </text>
      </splashScreen>
      <java mainClass="edu.virginia.vcgr.appmgr.launcher.ApplicationLauncher" vmParameters="" arguments="" allowVMPassthroughParameters="true" preferredVM="client" bundleRuntime="true">
        <classPath>
          <directory location="lib" failOnError="false" />
          <archive location="bundles/org.apache.commons.logging_1.1.1.v201101211721.jar" failOnError="false" />
          <scanDirectory location="ext" failOnError="false" />
        </classPath>
        <nativeLibraryDirectories>
          <directory name="jni-lib" />
        </nativeLibraryDirectories>
        <vmOptions />
      </java>
      <includedFiles />
      <unextractableFiles />
      <vmOptionsFile mode="content" overwriteMode="0" fileMode="644">
        <content>-Dedu.virginia.vcgr.genii.net-name=grid
-Dlog4j.configuration=production.client.log4j.properties
-Dedu.virginia.vcgr.genii.install-base-dir=${installer:sys.installationDir}
-Dedu.virginia.vcgr.appwatch.application-description=${installer:sys.installationDir}/ext/genii-client-application.properties
-Xmx${compiler:genii.client-memory.win32}m</content>
      </vmOptionsFile>
      <customScript mode="1" file="">
        <content />
      </customScript>
      <infoPlist mode="1" file="">
        <content />
      </infoPlist>
      <iconImageFiles />
    </launcher>
    <launcher name="client-ui32" id="5622" customizedId="" external="false" excludeFromMenu="false" unixMode="755" menuName="" icnsFile="" customMacBundleIdentifier="false" macBundleIdentifier="" swtApp="false" fileset="" macBundleBinary="JavaApplicationStub" addMacEntitlements="false" macEntitlementsFile="" useCustomMacosExecutableName="false" customMacosExecutableName="">
      <executable name="client-ui" type="1" iconSet="false" iconFile="" executableDir="bin" redirectStderr="false" stderrFile="stderr.log" stderrMode="overwrite" redirectStdout="false" stdoutFile="output.log" stdoutMode="overwrite" failOnStderrOutput="true" executableMode="1" changeWorkingDirectory="false" workingDirectory="." singleInstance="false" serviceStartType="2" serviceDependencies="" serviceDescription="" jreLocation="" executionLevel="asInvoker" checkConsoleParameter="false" globalSingleInstance="false" singleInstanceActivate="true" dpiAware="false">
        <versionInfo include="false" fileVersion="" fileDescription="" legalCopyright="" internalName="" productName="" />
      </executable>
      <splashScreen show="false" width="0" height="0" bitmapFile="" windowsNative="false" textOverlay="false">
        <text>
          <statusLine x="20" y="20" text="" fontSize="8" fontColor="0,0,0" bold="false" />
          <versionLine x="20" y="40" text="version ${compiler:sys.version}" fontSize="8" fontColor="0,0,0" bold="false" />
        </text>
      </splashScreen>
      <java mainClass="edu.virginia.vcgr.appmgr.launcher.ApplicationLauncher" vmParameters="" arguments="client-ui" allowVMPassthroughParameters="true" preferredVM="client" bundleRuntime="true">
        <classPath>
          <directory location="lib" failOnError="false" />
          <archive location="bundles/org.apache.commons.logging_1.1.1.v201101211721.jar" failOnError="false" />
          <scanDirectory location="ext" failOnError="false" />
        </classPath>
        <nativeLibraryDirectories>
          <directory name="jni-lib" />
        </nativeLibraryDirectories>
        <vmOptions />
      </java>
      <includedFiles />
      <unextractableFiles />
      <vmOptionsFile mode="content" overwriteMode="0" fileMode="644">
        <content>-Dedu.virginia.vcgr.genii.net-name=grid
-Dlog4j.configuration=production.client.log4j.properties
-Dedu.virginia.vcgr.genii.install-base-dir=${installer:sys.installationDir}
-Dedu.virginia.vcgr.appwatch.application-description=${installer:sys.installationDir}/ext/genii-client-application.properties
-Xmx${compiler:genii.client-memory.win32}m</content>
      </vmOptionsFile>
      <customScript mode="1" file="">
        <content />
      </customScript>
      <infoPlist mode="1" file="">
        <content />
      </infoPlist>
      <iconImageFiles />
    </launcher>
  </launchers>
  <installerGui installerType="1" addOnAppId="" suggestPreviousLocations="true" autoUpdateDescriptorUrl="" useAutoUpdateBaseUrl="false" autoUpdateBaseUrl="">
    <staticMembers script="" />
    <customCode />
    <autoUpdate useMinUpdatableVersion="false" minUpdatableVersion="" useMaxUpdatableVersion="false" maxUpdatableVersion="">
      <commentFiles />
      <customAttributes />
    </autoUpdate>
    <applications>
      <application name="" id="installer" customizedId="" beanClass="com.install4j.runtime.beans.applications.InstallerApplication" enabled="true" commentSet="false" comment="" actionElevationType="none" fileset="" customIcnsFile="" customIcoFile="" macEntitlementsFile="" automaticLauncherIntegration="false" launchMode="startupFirstWindow" launchInNewProcess="false" launchSchedule="updateSchedule" allLaunchers="true">
        <serializedBean>
          <java class="java.beans.XMLDecoder">
            <object class="com.install4j.runtime.beans.applications.InstallerApplication">
              <void property="frameHeight">
                <int>420</int>
              </void>
              <void property="frameSizeClientArea">
                <boolean>false</boolean>
              </void>
              <void property="frameWidth">
                <int>600</int>
              </void>
            </object>
          </java>
        </serializedBean>
        <launcherIds />
        <variables />
        <startup>
          <screen name="" id="1" customizedId="" beanClass="com.install4j.runtime.beans.screens.StartupScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.StartupScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <action name="" id="1916" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RequestPrivilegesAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.RequestPrivilegesAction" />
                  </java>
                </serializedBean>
                <condition />
              </action>
            </actions>
            <formComponents />
          </screen>
        </startup>
        <screens>
          <screen name="" id="2" customizedId="" beanClass="com.install4j.runtime.beans.screens.WelcomeScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.WelcomeScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <action name="" id="1917" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.LoadResponseFileAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="true" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.LoadResponseFileAction" />
                  </java>
                </serializedBean>
                <condition>context.getBooleanVariable("sys.confirmedUpdateInstallation")</condition>
              </action>
              <action name="initialize install type variable" id="9210" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="2" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>context.setVariable("genii.isContainer", "false");

return true;
</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="set genii.jnipath to default" id="10900" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetVariableAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.SetVariableAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>// sets default to unusable path to make sure we fill it in.
context.setVariable("genii.jnipath", "junk");
return true;
</string>
                          </void>
                        </object>
                      </void>
                      <void property="variableName">
                        <string>genii.jnipath</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="set genii.platform to default" id="10901" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetVariableAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.SetVariableAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>// sets default to bogus value to make sure we fill it in.
context.setVariable("genii.platform", "nothing");
return true;</string>
                          </void>
                        </object>
                      </void>
                      <void property="variableName">
                        <string>genii.platform</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Decide on platform" id="11610" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>
try {
    if (Util.isLinux()) {
//System.out.println("found linux system");
    
        // this is linux...  is it 32 or 64 bits?        
        Runtime runt = Runtime.getRuntime();
        String[] cmds = {"arch"};
        Process proc = runt.exec(cmds);
        
        // we assume 64 bit until proven otherwise.
        boolean is64bits = true;
        
        BufferedReader output = new BufferedReader(new 
             InputStreamReader(proc.getInputStream()));
        String s = null;
        while ((s = output.readLine()) != null) {
            if ( (s != null) &amp;&amp; (s.length() &gt; 0)) {
                if (s.equals("i686") || s.equals("i586") || s.equals("i386")) {
                    is64bits = false;
                }
                break;                
            }
        }
        output.close();
        
        if (is64bits) {
            context.setVariable("genii.platform", "linux64");
//System.out.println("found 64 bit linux system");
        } else {
            context.setVariable("genii.platform", "linux32");
//System.out.println("found 32 bit linux system");
        }
        
    } else if (Util.isAtLeastWindowsXP()) {
        // windows xp or later...
//System.out.println("found windows system");        
        if (Util.is64BitWindows()) {
            context.setVariable("genii.platform", "windows64");
        } else {
            context.setVariable("genii.platform", "windows32");
        }
        
    } else if (Util.isMacOS()) {
//System.out.println("found mac system");
        // mac os x....
        // we only support 64 bit mac os x currently...
        context.setVariable("genii.platform", "macosx64");
    } else {
System.out.println("found unknown type of operating system!");
        Util.logInfo(null, "unknown OS platform; there will be problems in the rest of the installation.");
        context.setVariable("genii.platform", "unknown");
    }
        
} catch(Exception e) {
    Util.logInfo(null, "exception occurred while determining OS platform");
}

return true;
</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
            </actions>
            <formComponents>
              <formComponent name="" id="8399" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.SpacerComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.formcomponents.SpacerComponent" />
                  </java>
                </serializedBean>
                <initScript />
                <visibilityScript />
              </formComponent>
              <formComponent name="" id="8398" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent">
                      <void property="labelText">
                        <string>This installer includes GFFS applications and grid deployment for the ${compiler:genii.deployment-name} Grid.</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <initScript />
                <visibilityScript />
              </formComponent>
            </formComponents>
          </screen>
          <screen name="" id="3" customizedId="" beanClass="com.install4j.runtime.beans.screens.InstallationDirectoryScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.InstallationDirectoryScreen">
                  <void property="allowNewFolderCreation">
                    <boolean>true</boolean>
                  </void>
                </object>
              </java>
            </serializedBean>
            <condition>!context.getBooleanVariable("sys.confirmedUpdateInstallation")</condition>
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <action name="" id="4" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.LoadResponseFileAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="true" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.LoadResponseFileAction" />
                  </java>
                </serializedBean>
                <condition>context.getVariable("sys.responseFile") == null</condition>
              </action>
              <action name="Detect former container install" id="6626" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>
String host = (String)context.getVariable("genii.hostname");

//System.out.println("got a hostname from install of " + host);

if ((host != null) &amp;&amp; !host.equals("")) {
    context.setVariable("genii.isContainer", "true");
    context.setVariable("genii.radioInstallType", 1);
}

return true;</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
            </actions>
            <formComponents />
          </screen>
          <screen name="Pick client or container install type" id="6431" customizedId="" beanClass="com.install4j.runtime.beans.screens.FormScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.FormScreen">
                  <void property="subTitle">
                    <string>Please Select the Type of Install to Perform</string>
                  </void>
                  <void property="title">
                    <string>Installation Type</string>
                  </void>
                </object>
              </java>
            </serializedBean>
            <condition>!context.getVariable("genii.platform").equals("macosx64") 
</condition>
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <action name="set install type variable" id="6432" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="2" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>
//System.out.println("got a setting for radio of " + (Integer)context.getVariable("genii.radioInstallType"));

if ((Integer)context.getVariable("genii.radioInstallType") == 0) {
    context.setVariable("genii.isContainer", "false");
} else {
    context.setVariable("genii.isContainer", "true");
}

return true;</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
            </actions>
            <formComponents>
              <formComponent name="" id="7430" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent">
                      <void property="labelText">
                        <string>Installing GFFS software and grid deployment for ${compiler:genii.deployment-name} Grid on ${installer:genii.platform} platform.</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <initScript />
                <visibilityScript />
              </formComponent>
              <formComponent name="" id="6441" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent">
                      <void property="labelText">
                        <string>This installation can provide GFFS client-only support or it can function as a GFFS container.  Which would you prefer to install?</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <initScript />
                <visibilityScript />
              </formComponent>
              <formComponent name="" id="6443" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.RadiobuttonsComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.formcomponents.RadiobuttonsComponent">
                      <void property="radioButtonLabels">
                        <array class="java.lang.String" length="2">
                          <void index="0">
                            <string>Client-Only GFFS</string>
                          </void>
                          <void index="1">
                            <string>GFFS Client and Container</string>
                          </void>
                        </array>
                      </void>
                      <void property="variableName">
                        <string>genii.radioInstallType</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <initScript />
                <visibilityScript />
              </formComponent>
            </formComponents>
          </screen>
          <screen name="" id="6" customizedId="" beanClass="com.install4j.runtime.beans.screens.StandardProgramGroupScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.StandardProgramGroupScreen">
                  <void property="programGroupName">
                    <string>${compiler:sys.fullName}</string>
                  </void>
                  <void property="unixSymlinks">
                    <boolean>false</boolean>
                  </void>
                </object>
              </java>
            </serializedBean>
            <condition>!context.getBooleanVariable("sys.confirmedUpdateInstallation")</condition>
            <validation />
            <preActivation />
            <postActivation />
            <actions />
            <formComponents />
          </screen>
          <screen name="" id="7" customizedId="" beanClass="com.install4j.runtime.beans.screens.InstallationScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="true" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.InstallationScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <action name="Set Progress to 0%" id="1064" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.SetProgressAction" />
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Decide on jni directory" id="11092" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>
try {
    // get earlier calculated platform.
    String platypus =  (String) context.getVariable("genii.platform"); 
    
    String targetDir = context.getInstallationDirectory() +  "/jni-lib";
    String baseJni = context.getInstallationDirectory() +  "/jni-libs/";

    // where we will get the jni binaries from.    
    File finalSourceDir = null;
    
//System.out.println("working with a platform setting of " + platypus);
    
    if (platypus.equals("linux64")) {
        // install the linux64 jni.
        finalSourceDir = new File(baseJni + "lin64");
//System.out.println("setting up jni for 64 bit linux system");
    } else if (platypus.equals("linux32")) {
        // install the linux32 jni.
        finalSourceDir = new File(baseJni + "lin32");
//System.out.println("setting up jni for 32 bit linux system");
    } else if (platypus.equals("windows64")) {
        // 64 bit windows.
        finalSourceDir = new File(baseJni + "win64");
//System.out.println("setting up jni for 64 bit windows system");
    } else if (platypus.equals("windows32")) {
        // 32 bit windows.
       finalSourceDir = new File(baseJni + "win32");
//System.out.println("setting up jni for 32 bit windows system");
    } else if (platypus.equals("macosx64")) {
        // we only support 64 bit mac os x currently...
        finalSourceDir = new File(baseJni + "osx64");
//System.out.println("setting up jni for 64 bit mac os x system");
    } else {
System.out.println("found unknown type of operating system!  cannot set up JNI properly.");
        Util.logInfo(null, "unknown OS platform so cannot copy JNI libraries appropriately");
    }
    
    if (finalSourceDir != null) {
        // we can do the copy now.  but don't know how to get it done in install4j.
        // we save the location to a variable and use that.
        context.setVariable("genii.jnipath", finalSourceDir.getAbsolutePath());        
        Util.logInfo(null, "found platform is " + context.getVariable("genii.platform") + " and the jni dir is " +  context.getVariable("genii.jnipath"));
    }
    
//System.out.println("genii.jnipath is now set to " + context.getVariable("genii.jnipath"));        
    
} catch(Exception e) {
    Util.logInfo(null, "exception occurred while copying JNI libraries for the OS platform");
}

return true;
</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Set deployment variables" id="3026" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="2" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>
// create the deployment context to connect to.
String depName = context.getCompilerVariable("genii.new-deployment");
String connUrl = context.getCompilerVariable("genii.deployment-context");
context.setVariable("genii.connect-url", "deployments/" + depName + "/" + connUrl);

Object current = context.getVariable("genii.hostname");
// we want to make sure we don't see this as undefined later.
if (current == null) context.setVariable("genii.hostname", "");


return true;</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Stop windows service" id="5811" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                      <void property="arguments">
                        <array class="java.lang.String" length="2">
                          <void index="0">
                            <string>stop</string>
                          </void>
                          <void index="1">
                            <string>XCG Container</string>
                          </void>
                        </array>
                      </void>
                      <void property="executable">
                        <object class="java.io.File">
                          <string>${installer:sys.system32Dir}/sc.exe</string>
                        </object>
                      </void>
                      <void property="wait">
                        <boolean>true</boolean>
                      </void>
                      <void property="workingDirectory">
                        <object class="java.io.File">
                          <string>${installer:sys.installationDir}</string>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64") 
</condition>
              </action>
              <action name="Stop unix service" id="7826" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                      <void property="arguments">
                        <array class="java.lang.String" length="1">
                          <void index="0">
                            <string>stop</string>
                          </void>
                        </array>
                      </void>
                      <void property="executable">
                        <object class="java.io.File">
                          <string>bin/GFFSContainer</string>
                        </object>
                      </void>
                      <void property="wait">
                        <boolean>true</boolean>
                      </void>
                      <void property="workingDirectory">
                        <object class="java.io.File">
                          <string>.</string>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.platform").equals("linux32") || context.getVariable("genii.platform").equals("linux64") 
</condition>
              </action>
              <action name="Stop older unix service" id="12041" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                      <void property="arguments">
                        <array class="java.lang.String" length="1">
                          <void index="0">
                            <string>stop</string>
                          </void>
                        </array>
                      </void>
                      <void property="executable">
                        <object class="java.io.File">
                          <string>GFFSContainer</string>
                        </object>
                      </void>
                      <void property="wait">
                        <boolean>true</boolean>
                      </void>
                      <void property="workingDirectory">
                        <object class="java.io.File">
                          <string>.</string>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.platform").equals("linux32") || context.getVariable("genii.platform").equals("linux64") 
</condition>
              </action>
              <action name="Stop way older unix service" id="7996" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                      <void property="arguments">
                        <array class="java.lang.String" length="1">
                          <void index="0">
                            <string>stop</string>
                          </void>
                        </array>
                      </void>
                      <void property="executable">
                        <object class="java.io.File">
                          <string>XCGContainer</string>
                        </object>
                      </void>
                      <void property="wait">
                        <boolean>true</boolean>
                      </void>
                      <void property="workingDirectory">
                        <object class="java.io.File">
                          <string>.</string>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.platform").equals("linux32") || context.getVariable("genii.platform").equals("linux64") 
</condition>
              </action>
              <action name="" id="5813" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SleepAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.SleepAction">
                      <void property="sleepTimeMs">
                        <int>5000</int>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64") 
</condition>
              </action>
              <action name="Backup deployments et al" id="4839" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CreateZipFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.CreateZipFileAction">
                      <void property="addTopLevelDirectoriesToRelativePath">
                        <boolean>true</boolean>
                      </void>
                      <void property="files">
                        <array class="java.io.File" length="2">
                          <void index="0">
                            <object class="java.io.File">
                              <string>deployments</string>
                            </object>
                          </void>
                          <void index="1">
                            <object class="java.io.File">
                              <string>lib</string>
                            </object>
                          </void>
                        </array>
                      </void>
                      <void property="zipFile">
                        <object class="java.io.File">
                          <string>${installer:sys.installationDir}/backup-deployments-${compiler:sys.version}-${compiler:sys.date}-${compiler:sys.time}.zip</string>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.isContainer").equals("true")</condition>
              </action>
              <action name="" id="4309" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                      <void property="files">
                        <array class="java.io.File" length="5">
                          <void index="0">
                            <object class="java.io.File">
                              <string>ext</string>
                            </object>
                          </void>
                          <void index="1">
                            <object class="java.io.File">
                              <string>XCGContainer</string>
                            </object>
                          </void>
                          <void index="2">
                            <object class="java.io.File">
                              <string>ApplicationWatcher</string>
                            </object>
                          </void>
                          <void index="3">
                            <object class="java.io.File">
                              <string>lib/gffs-container.jar</string>
                            </object>
                          </void>
                          <void index="4">
                            <object class="java.io.File">
                              <string>bundles</string>
                            </object>
                          </void>
                        </array>
                      </void>
                      <void property="recursive">
                        <boolean>true</boolean>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="" id="8" customizedId="" beanClass="com.install4j.runtime.beans.actions.InstallFilesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="2" errorMessage="${i18n:FileCorrupted}">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.InstallFilesAction" />
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Set Progress to 12%" id="1065" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                      <void property="percentValue">
                        <int>12</int>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Set Initialization Variables" id="309" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                      <void property="script">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>context.setVariable("genii.username", System.getProperty("user.name"));

if (context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64") )
{
    String domain = System.getenv("USERDOMAIN");
    String machine = System.getenv("COMPUTERNAME");
    if (machine.toUpperCase().contains(domain.toUpperCase()))
        domain = ".";
    context.setVariable("genii.wrapperdomain", domain);
   
   //com.install4j.api.Util.showMessage("user name is '"+ context.getVariable("genii.username") + "' and domain is '" +context.getVariable("genii.wrapperdomain") + "'");
}

return true;</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <group name="Patch Core Files" id="42" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.groups.ActionGroup" />
                  </java>
                </serializedBean>
                <beans>
                  <action name="Set Progress to 16%" id="10897" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>16</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="toss old jni bin dir" id="10895" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>jni-lib</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="recursive">
                            <boolean>true</boolean>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Copy the chosen jni directory to final place" id="10899" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="4" errorMessage="failed to copy jni lib dir to path ${installer:genii.jnipath}">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                          <void property="destinationFile">
                            <object class="java.io.File">
                              <string>jni-lib</string>
                            </object>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>${installer:genii.jnipath}</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="overwriteMode">
                            <object class="java.lang.Enum" method="valueOf">
                              <class>com.install4j.api.context.OverwriteMode</class>
                              <string>ALWAYS</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Create export.properties if doesn't exist" id="9687" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Failed to create export.properties from the template">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                          <void property="destinationFile">
                            <object class="java.io.File">
                              <string>lib/export.properties</string>
                            </object>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>lib/export.properties.template</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="overwriteMode">
                            <object class="java.lang.Enum" method="valueOf">
                              <class>com.install4j.api.context.OverwriteMode</class>
                              <string>NEVER</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch export.properties" id="9688" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to patch export.properties">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="encoding">
                            <string />
                          </void>
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>lib/export.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Create gffschown if doesn't exist" id="10380" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Failed to create gffschown from the template">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                          <void property="destinationFile">
                            <object class="java.io.File">
                              <string>bin/gffschown</string>
                            </object>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>scripts/gffschown.template</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="overwriteMode">
                            <object class="java.lang.Enum" method="valueOf">
                              <class>com.install4j.api.context.OverwriteMode</class>
                              <string>NEVER</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch gffschown" id="10381" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to patch gffschown">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="encoding">
                            <string />
                          </void>
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>bin/gffschown</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Make gffschown executable" id="10550" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.SetModeAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="could not set permissions on gffschown">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.SetModeAction">
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>bin/gffschown</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="mode">
                            <string>a+rx</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Create proxyio.launcher if doesn't exist" id="10382" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Failed to create proxyio.launcher from the template">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                          <void property="destinationFile">
                            <object class="java.io.File">
                              <string>bin/proxyio.launcher</string>
                            </object>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>scripts/proxyio.launcher.template</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="overwriteMode">
                            <object class="java.lang.Enum" method="valueOf">
                              <class>com.install4j.api.context.OverwriteMode</class>
                              <string>NEVER</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch proxyio.launcher" id="10383" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to patch proxyio.launcher">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="encoding">
                            <string />
                          </void>
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>bin/proxyio.launcher</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Make proxyio.launcher executable" id="10551" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.SetModeAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="could not set permissions on proxyio.launcher">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.SetModeAction">
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>bin/proxyio.launcher</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="mode">
                            <string>a+rx</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Create gffs.exports if doesn't exist" id="10384" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Failed to create gffs.exports from the template">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                          <void property="destinationFile">
                            <object class="java.io.File">
                              <string>lib/gffs.exports</string>
                            </object>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>lib/gffs.exports.template</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="overwriteMode">
                            <object class="java.lang.Enum" method="valueOf">
                              <class>com.install4j.api.context.OverwriteMode</class>
                              <string>NEVER</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch gffs.exports" id="10385" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to patch gffs.exports">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="encoding">
                            <string />
                          </void>
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>lib/gffs.exports</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch jar-desc.xml" id="46" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to patch jar-desc.xml">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="encoding">
                            <string />
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>jar-desc.xml</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch RELEASE file" id="75" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to patch RELEASE file.">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>RELEASE</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch set_gffs_vars" id="10003" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to patch set_gffs_vars">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="encoding">
                            <string />
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>set_gffs_vars</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch cert-tool" id="9526" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to patch cert-tool file.">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>bin/cert-tool</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch genii-base-application.properties" id="222" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>ext/genii-base-application.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch genii-client-application.properties" id="225" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>ext/genii-client-application.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch genii-update-application.properties" id="227" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>ext/genii-certtool-application.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch genii-container-application.properties" id="229" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>ext/genii-container-application.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch production.client.log4j.properties" id="4154" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>lib/production.client.log4j.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch production.container.log4j.properties" id="231" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>lib/production.container.log4j.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch container.properties" id="7431" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>lib/container.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch client.properties" id="7432" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>lib/client.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch database conn pool" id="8585" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.RegexTextFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.RegexTextFileAction">
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>deployments/${compiler:genii.new-deployment}/configuration/server-config.xml</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="quoteVariables">
                            <boolean>false</boolean>
                          </void>
                          <void property="regex">
                            <string>type="edu.virginia.vcgr.genii.container.db.DatabaseConnectionPool"</string>
                          </void>
                          <void property="replacement">
                            <string>type="edu.virginia.vcgr.genii.container.db.ServerDatabaseConnectionPool"</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch security.properties if missing grid-certificates" id="9851" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                          <void property="script">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>

try {
    String secPropFileName = context.getInstallationDirectory() +  "/deployments/${compiler:genii.new-deployment}/configuration/security.properties";
    File secProp = new File(secPropFileName);
    if (!secProp.exists()) {
        Util.logInfo(null, "this is probably bad; cannot find security.properties file for deployment, looking in: " + secPropFileName);
        // we don't want to totally quit though...?
        return true;
    }

    boolean gridCertsLineFound = false;
    String line = null;
    BufferedReader br = new BufferedReader(new FileReader(secProp));
    while ( (line = br.readLine()) != null) {
         if (line.contains("edu.virginia.vcgr.genii.client.security.ssl.grid-certificates.location")) {
             gridCertsLineFound = true;
         }
    }
    br.close();
    if (!gridCertsLineFound) {
        PrintWriter out = new PrintWriter(new FileWriter(secPropFileName, true));
        out.println("edu.virginia.vcgr.genii.client.security.ssl.grid-certificates.location=grid-certificates");
        out.close();
        Util.logInfo(null, "added missing grid-certs line in " + secPropFileName);
    }
    
} catch(Exception e) {
    Util.logInfo(null, "exception during security.properties editing");
}

return true;
</string>
                              </void>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Patch vmoptions files since install4j will not" id="12428" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="files">
                            <array class="java.io.File" length="6">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}/bin/*.vmoptions</string>
                                </object>
                              </void>
                              <void index="1">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}/bin/grid.vmoptions</string>
                                </object>
                              </void>
                              <void index="2">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}/bin/grid32.vmoptions</string>
                                </object>
                              </void>
                              <void index="3">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}/bin/client-ui.vmoptions</string>
                                </object>
                              </void>
                              <void index="4">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}/bin/client-ui32.vmoptions</string>
                                </object>
                              </void>
                              <void index="5">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}/bin/runContainer.vmoptions</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Set Progress to 25%" id="10898" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>25</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                </beans>
              </group>
              <action name="" id="9" customizedId="" beanClass="com.install4j.runtime.beans.actions.desktop.CreateProgramGroupAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.desktop.CreateProgramGroupAction">
                      <void property="uninstallerMenuName">
                        <string>${i18n:UninstallerMenuEntry(${compiler:sys.fullName})}</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>!context.getBooleanVariable("sys.programGroupDisabled")</condition>
              </action>
              <action name="" id="10" customizedId="" beanClass="com.install4j.runtime.beans.actions.desktop.RegisterAddRemoveAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.desktop.RegisterAddRemoveAction">
                      <void property="itemName">
                        <string>${compiler:sys.fullName} ${compiler:sys.version}</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Clean up obsolete config files and launchers" id="12042" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                      <void property="files">
                        <array class="java.io.File" length="8">
                          <void index="0">
                            <object class="java.io.File">
                              <string>GFFSContainer</string>
                            </object>
                          </void>
                          <void index="1">
                            <object class="java.io.File">
                              <string>cert-tool</string>
                            </object>
                          </void>
                          <void index="2">
                            <object class="java.io.File">
                              <string>client-ui</string>
                            </object>
                          </void>
                          <void index="3">
                            <object class="java.io.File">
                              <string>container.properties</string>
                            </object>
                          </void>
                          <void index="4">
                            <object class="java.io.File">
                              <string>container.properties.example</string>
                            </object>
                          </void>
                          <void index="5">
                            <object class="java.io.File">
                              <string>fastgrid</string>
                            </object>
                          </void>
                          <void index="6">
                            <object class="java.io.File">
                              <string>gffschown</string>
                            </object>
                          </void>
                          <void index="7">
                            <object class="java.io.File">
                              <string>proxyio.launcher</string>
                            </object>
                          </void>
                        </array>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
            </actions>
            <formComponents />
          </screen>
          <group name="Pre Container Configuration" id="2069" customizedId="" beanClass="com.install4j.runtime.beans.groups.ScreenGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.groups.ScreenGroup">
                  <void property="conditionExpression">
                    <object class="com.install4j.api.beans.ScriptProperty">
                      <void property="value">
                        <string>context.getVariable("genii.isContainer").equals("true")</string>
                      </void>
                    </object>
                  </void>
                </object>
              </java>
            </serializedBean>
            <beans>
              <screen name="Host Configuration" id="1029" customizedId="" beanClass="com.install4j.runtime.beans.screens.FormScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.screens.FormScreen">
                      <void property="subTitle">
                        <string>Configuration of the container's port number and internet address</string>
                      </void>
                      <void property="title">
                        <string>Container Network Presence</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
                <validation />
                <preActivation />
                <postActivation />
                <actions>
                  <action name="Replace port number in web-container.properties" id="1030" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="escapeForPropertyFile">
                            <boolean>true</boolean>
                          </void>
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>deployments/${compiler:genii.new-deployment}/configuration/web-container.properties</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="replace hostname" id="2715" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>deployments/${compiler:genii.new-deployment}/configuration/server-config.xml</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Create service url file" id="3028" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.WriteTextFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.WriteTextFileAction">
                          <void property="file">
                            <object class="java.io.File">
                              <string>service-url.txt</string>
                            </object>
                          </void>
                          <void property="text">
                            <string>https://${installer:genii.hostname}:${installer:genii.xcg-port}/axis/services/VCGRContainerPortType</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Set Progress to 32%" id="1066" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>32</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                </actions>
                <formComponents>
                  <formComponent name="" id="1031" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent">
                          <void property="labelText">
                            <string>By default the container listens for incoming messages on TCP port ${compiler:genii.xcg-port}. You can override the port here; this is highly recommended.</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <initScript />
                    <visibilityScript />
                  </formComponent>
                  <formComponent name="Port Number" id="1033" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.IntegerTextfieldComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.formcomponents.IntegerTextfieldComponent">
                          <void property="columns">
                            <int>10</int>
                          </void>
                          <void property="initialText">
                            <string>${compiler:genii.xcg-port}</string>
                          </void>
                          <void property="inputVerifier">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>long port = Long.parseLong(text);
if (port &lt;= 1024)
{
    context.getProgressInterface().showFailure("Port numbers must be greater then 1024.");
    return false;   
}

return true;</string>
                              </void>
                            </object>
                          </void>
                          <void property="labelText">
                            <string>Container Port Number</string>
                          </void>
                          <void property="variableName">
                            <string>genii.xcg-port</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <initScript />
                    <visibilityScript />
                  </formComponent>
                  <group name="" id="2713" customizedId="" beanClass="com.install4j.runtime.beans.groups.HorizontalFormComponentGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.HorizontalFormComponentGroup" />
                      </java>
                    </serializedBean>
                    <beans />
                  </group>
                  <formComponent name="" id="2714" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent">
                          <void property="labelText">
                            <string>Specify the hostname or IP address where your container will run.  Hostnames should be globally resolvable via DNS.</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <initScript />
                    <visibilityScript />
                  </formComponent>
                  <formComponent name="hostname" id="2212" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.TextfieldComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.formcomponents.TextfieldComponent">
                          <void property="initialText">
                            <string>${installer:genii.hostname}</string>
                          </void>
                          <void property="labelText">
                            <string>Host Name</string>
                          </void>
                          <void property="variableName">
                            <string>genii.hostname</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <initScript />
                    <visibilityScript />
                  </formComponent>
                </formComponents>
              </screen>
            </beans>
          </group>
          <group name="Post Installation Configuration" id="1013" customizedId="" beanClass="com.install4j.runtime.beans.groups.ScreenGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.groups.ScreenGroup" />
              </java>
            </serializedBean>
            <beans>
              <screen name="Connect Client Progress" id="1014" customizedId="" beanClass="com.install4j.runtime.beans.screens.CustomizableProgressScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.screens.CustomizableProgressScreen">
                      <void property="initialStatusMessage">
                        <string>Connecting to the Grid</string>
                      </void>
                      <void property="subTitle">
                        <string>Connecting to the ${compiler:genii.deployment-name} Grid</string>
                      </void>
                      <void property="title">
                        <string>Grid Connection</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
                <validation />
                <preActivation />
                <postActivation />
                <actions>
                  <action name="Copy JCE Unlimited Jars - non mac" id="3949" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Could not copy unlimited JCE jars into jre">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                          <void property="destinationFile">
                            <object class="java.io.File">
                              <string>${installer:sys.installationDir}/jre/lib/security</string>
                            </object>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="2">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>jre-addin/US_export_policy.jar</string>
                                </object>
                              </void>
                              <void index="1">
                                <object class="java.io.File">
                                  <string>jre-addin/local_policy.jar</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="overwriteMode">
                            <object class="java.lang.Enum" method="valueOf">
                              <class>com.install4j.api.context.OverwriteMode</class>
                              <string>ALWAYS</string>
                            </object>
                          </void>
                          <void property="showProgress">
                            <boolean>true</boolean>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition>! context.getVariable("genii.platform").equals("macosx64") 
</condition>
                  </action>
                  <action name="Copy JCE Unlimited Jars - mac" id="5310" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Could not copy unlimited JCE jars into jre">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                          <void property="destinationFile">
                            <object class="java.io.File">
                              <string>${installer:sys.installationDir}/.install4j/jre.bundle/Contents/Home/jre/lib/security</string>
                            </object>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="2">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>jre-addin/US_export_policy.jar</string>
                                </object>
                              </void>
                              <void index="1">
                                <object class="java.io.File">
                                  <string>jre-addin/local_policy.jar</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="overwriteMode">
                            <object class="java.lang.Enum" method="valueOf">
                              <class>com.install4j.api.context.OverwriteMode</class>
                              <string>ALWAYS</string>
                            </object>
                          </void>
                          <void property="showProgress">
                            <boolean>true</boolean>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition>context.getVariable("genii.platform").equals("macosx64") 
</condition>
                  </action>
                  <action name="fix installation dir" id="4474" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                          <void property="script">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>String instdir = (String)context.getVariable("sys.installationDir");
instdir = instdir.replace('\\', '/');
context.setVariable("gen.fixedInstallDir", instdir);
return true;</string>
                              </void>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="" id="1016" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to connect to the grid.">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                          <void property="arguments">
                            <array class="java.lang.String" length="3">
                              <void index="0">
                                <string>connect</string>
                              </void>
                              <void index="1">
                                <string>${installer:genii.connect-url}</string>
                              </void>
                              <void index="2">
                                <string>${compiler:genii.new-deployment}</string>
                              </void>
                            </array>
                          </void>
                          <void property="executable">
                            <object class="java.io.File">
                              <string>bin/grid</string>
                            </object>
                          </void>
                          <void property="wait">
                            <boolean>true</boolean>
                          </void>
                          <void property="workingDirectory">
                            <object class="java.io.File">
                              <string>.</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition>File propFile = new File(context.getInstallationDirectory(), "lib/container.properties");
File propFile2 = new File(context.getInstallationDirectory(), "container.properties");
return propFile.exists() || propFile2.exists();</condition>
                  </action>
                  <action name="" id="5121" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.SetModeAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.SetModeAction">
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}/jre</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="mode">
                            <string>g+r,o+r</string>
                          </void>
                          <void property="recursive">
                            <boolean>true</boolean>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="" id="1017" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>100</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                </actions>
                <formComponents />
              </screen>
              <group name="Service Install and Start Confirmations" id="1018" customizedId="" beanClass="com.install4j.runtime.beans.groups.ScreenGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.groups.ScreenGroup">
                      <void property="conditionExpression">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>context.getVariable("genii.isContainer").equals("true") </string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <beans>
                  <group name="Owner Group" id="1034" customizedId="" beanClass="com.install4j.runtime.beans.groups.ScreenGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.ScreenGroup">
                          <void property="conditionExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>File ownerCer = new File(String.format("%s/deployments/%s/security/owner.cer",
    context.getVariable("sys.installationDir"),
    (String)context.getCompilerVariable("genii.new-deployment")));
/*
System.out.println("got owner cer as " + ownerCer.getAbsolutePath());
if (ownerCer.exists()) {
System.out.println("owner cer already exists");    
} else {
System.out.println("owner cer did not exist yet");
}
*/
return !ownerCer.exists();</string>
                              </void>
                            </object>
                          </void>
                          <void property="loop">
                            <boolean>true</boolean>
                          </void>
                          <void property="loopExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>File ownerCer = new File(String.format("%s/deployments/%s/security/owner.cer",
    context.getVariable("sys.installationDir"),
    (String)context.getCompilerVariable("genii.new-deployment")));
return !ownerCer.exists();</string>
                              </void>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <beans>
                      <screen name="Owner Screen" id="1035" customizedId="" beanClass="com.install4j.runtime.beans.screens.FormScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.screens.FormScreen">
                              <void property="subTitle">
                                <string>Provide an existing grid account that will 'own' the container.</string>
                              </void>
                              <void property="title">
                                <string>Owner Information</string>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                        <validation />
                        <preActivation />
                        <postActivation />
                        <actions>
                          <action name="set up user directory variable" id="9395" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetVariableAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="true" failureStrategy="1" errorMessage="">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.control.SetVariableAction">
                                  <void property="script">
                                    <object class="com.install4j.api.beans.ScriptProperty">
                                      <void property="value">
                                        <string>String userDir = (String)context.getCompilerVariable("genii.user-path");

//System.out.println("got default userdir of " + userDir);

String owner = (String)context.getVariable("genii.owner-username");

if ( (owner != null) &amp;&amp; (owner.indexOf('/') &gt;= 0 ) ) {
    // this one has a slash embedded in it, so we need to extract the first part of the path.
    //System.out.println("path does contain a slash: " + owner);
    
    int lastSlash = owner.lastIndexOf('/');
    
    // drop the last slash and the portion after it.
    userDir = owner.substring(0, lastSlash);
    
    //System.out.println("chose first part of path: " + userDir);
    
    // change the owner name to truncate the path prefix portion.
    context.setVariable("genii.owner-username", owner.substring(lastSlash + 1));
    
    //System.out.println("chose name part of path: " + context.getVariable("genii.owner-username"));
}

return userDir;
</string>
                                      </void>
                                    </object>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.actual-user-directory</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                          <action name="Download Certificate" id="1036" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="true" failureStrategy="1" errorMessage="Unable to download owner certificate.">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                                  <void property="arguments">
                                    <array class="java.lang.String" length="3">
                                      <void index="0">
                                        <string>download-certificate</string>
                                      </void>
                                      <void index="1">
                                        <string>${installer:genii.actual-user-directory}/${installer:genii.owner-username}</string>
                                      </void>
                                      <void index="2">
                                        <string>local:owner.cer</string>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="executable">
                                    <object class="java.io.File">
                                      <string>bin/grid</string>
                                    </object>
                                  </void>
                                  <void property="wait">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="workingDirectory">
                                    <object class="java.io.File">
                                      <string>deployments/${compiler:genii.new-deployment}/security</string>
                                    </object>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                          <action name="copy owner certificate" id="1915" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="true" failureStrategy="1" errorMessage="">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                                  <void property="destinationFile">
                                    <object class="java.io.File">
                                      <string>${installer:sys.installationDir}/deployments/${compiler:genii.new-deployment}/security/default-owners/owner.cer</string>
                                    </object>
                                  </void>
                                  <void property="files">
                                    <array class="java.io.File" length="1">
                                      <void index="0">
                                        <object class="java.io.File">
                                          <string>${installer:sys.installationDir}/deployments/${compiler:genii.new-deployment}/security/owner.cer</string>
                                        </object>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="overwriteMode">
                                    <object class="java.lang.Enum" method="valueOf">
                                      <class>com.install4j.api.context.OverwriteMode</class>
                                      <string>ALWAYS</string>
                                    </object>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                        </actions>
                        <formComponents>
                          <formComponent name="" id="1038" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent">
                                  <void property="labelText">
                                    <string>Please select an existing grid user to manage the new container.  This user will have full control over the container within the grid.
If the user is on a non-standard path, then the full RNS path can be provided below.  The default users path prefix is "${compiler:genii.user-path}/".
</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                          <formComponent name="user name" id="2710" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.TextfieldComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.TextfieldComponent">
                                  <void property="labelText">
                                    <string>User Name</string>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.owner-username</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                        </formComponents>
                      </screen>
                    </beans>
                  </group>
                  <group name="Get Container Cert" id="2604" customizedId="" beanClass="com.install4j.runtime.beans.groups.ScreenGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.ScreenGroup">
                          <void property="conditionExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>File signer = new File(String.format("%s/deployments/%s/security/signing-cert.pfx",
    context.getVariable("sys.installationDir"),
    (String)context.getCompilerVariable("genii.new-deployment")));
/*
System.out.println("got signer cer as " + signer.getAbsolutePath());
if (signer.exists()) {
System.out.println("signer cer already exists");
} else {
  System.out.println("signer cer did not exist yet");    
}
*/

File tls = new File(String.format("%s/deployments/%s/security/tls-cert.pfx",
    context.getVariable("sys.installationDir"),
    (String)context.getCompilerVariable("genii.new-deployment")));
/*
System.out.println("got tls cer as " + tls.getAbsolutePath());
if (tls.exists()) {
  System.out.println("tls cer already exists");
} else {
  System.out.println("tls cer did not exist yet");    
}
*/

return !signer.exists() || !tls.exists();
</string>
                              </void>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <beans>
                      <screen name="Choose Source" id="2594" customizedId="" beanClass="com.install4j.runtime.beans.screens.FormScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.screens.FormScreen">
                              <void property="subTitle">
                                <string>The service can generate a new key-pair for secure networking or you can provide your own</string>
                              </void>
                              <void property="title">
                                <string>Use the grid's key-pair generating service?</string>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                        <validation />
                        <preActivation />
                        <postActivation />
                        <actions>
                          <action name="get signing keypair" id="4609" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="2" errorMessage="Unable to generate container signing keypair">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                                  <void property="arguments">
                                    <array class="java.lang.String" length="12">
                                      <void index="0">
                                        <string>cert-generator</string>
                                      </void>
                                      <void index="1">
                                        <string>--gen-cert</string>
                                      </void>
                                      <void index="2">
                                        <string>--keysize=2048</string>
                                      </void>
                                      <void index="3">
                                        <string>--ks-path=deployments/${compiler:genii.new-deployment}/security/generated1.pfx</string>
                                      </void>
                                      <void index="4">
                                        <string>--ks-pword=container</string>
                                      </void>
                                      <void index="5">
                                        <string>--ks-alias=Container</string>
                                      </void>
                                      <void index="6">
                                        <string>--cn=${installer:genii.hostname}</string>
                                      </void>
                                      <void index="7">
                                        <string>--o=XSEDE</string>
                                      </void>
                                      <void index="8">
                                        <string>--l=Nationwide</string>
                                      </void>
                                      <void index="9">
                                        <string>--c=US</string>
                                      </void>
                                      <void index="10">
                                        <string>--ou=GFFS</string>
                                      </void>
                                      <void index="11">
                                        <string>/etc/ContainerGroupCertGenerator</string>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="executable">
                                    <object class="java.io.File">
                                      <string>bin/grid</string>
                                    </object>
                                  </void>
                                  <void property="keepConsoleWindow">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="wait">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="workingDirectory">
                                    <object class="java.io.File">
                                      <string>.</string>
                                    </object>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                          <action name="copy generated to signing cert" id="4610" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Failed to copy generated cert to signing cert.">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                                  <void property="destinationFile">
                                    <object class="java.io.File">
                                      <string>deployments/${compiler:genii.new-deployment}/security/signing-cert.pfx</string>
                                    </object>
                                  </void>
                                  <void property="files">
                                    <array class="java.io.File" length="1">
                                      <void index="0">
                                        <object class="java.io.File">
                                          <string>deployments/${compiler:genii.new-deployment}/security/generated1.pfx</string>
                                        </object>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="overwriteMode">
                                    <object class="java.lang.Enum" method="valueOf">
                                      <class>com.install4j.api.context.OverwriteMode</class>
                                      <string>NEVER</string>
                                    </object>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                        </actions>
                        <formComponents>
                          <formComponent name="Use Container Service" id="2602" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.CheckboxComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.CheckboxComponent">
                                  <void property="checkboxText">
                                    <string>Use Grid Key-pair Generating Service</string>
                                  </void>
                                  <void property="selectionScript">
                                    <object class="com.install4j.api.beans.ScriptProperty">
                                      <void property="value">
                                        <string />
                                      </void>
                                    </object>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.cert-generator</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript>configurationObject.setSelected(context.getCompilerVariable("genii.generate-certs").equals("true"))</initScript>
                            <visibilityScript />
                          </formComponent>
                        </formComponents>
                      </screen>
                      <screen name="Cert Generator" id="2603" customizedId="" beanClass="com.install4j.runtime.beans.screens.FormScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.screens.FormScreen">
                              <void property="subTitle">
                                <string>Select a password for the newly generated TLS certificate</string>
                              </void>
                              <void property="title">
                                <string>Container Keypair Generating Service</string>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition>context.getBooleanVariable("genii.cert-generator")</condition>
                        <validation />
                        <preActivation />
                        <postActivation />
                        <actions>
                          <action name="get tls keypair" id="2712" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="2" errorMessage="Unable to generate container keypair">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                                  <void property="arguments">
                                    <array class="java.lang.String" length="12">
                                      <void index="0">
                                        <string>cert-generator</string>
                                      </void>
                                      <void index="1">
                                        <string>--gen-cert</string>
                                      </void>
                                      <void index="2">
                                        <string>--keysize=2048</string>
                                      </void>
                                      <void index="3">
                                        <string>--ks-path=deployments/${compiler:genii.new-deployment}/security/generated2.pfx</string>
                                      </void>
                                      <void index="4">
                                        <string>--ks-pword=${installer:genii.container-keystore-password}</string>
                                      </void>
                                      <void index="5">
                                        <string>--ks-alias=Container</string>
                                      </void>
                                      <void index="6">
                                        <string>--cn=${installer:genii.hostname}</string>
                                      </void>
                                      <void index="7">
                                        <string>--o=XSEDE</string>
                                      </void>
                                      <void index="8">
                                        <string>--l=Nationwide</string>
                                      </void>
                                      <void index="9">
                                        <string>--c=US</string>
                                      </void>
                                      <void index="10">
                                        <string>--ou=GFFS</string>
                                      </void>
                                      <void index="11">
                                        <string>/etc/ContainerGroupCertGenerator</string>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="executable">
                                    <object class="java.io.File">
                                      <string>bin/grid</string>
                                    </object>
                                  </void>
                                  <void property="keepConsoleWindow">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="wait">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="workingDirectory">
                                    <object class="java.io.File">
                                      <string>.</string>
                                    </object>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                          <action name="copy generated to tls cert" id="3952" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Failed to copy generated cert to tls cert.">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                                  <void property="destinationFile">
                                    <object class="java.io.File">
                                      <string>deployments/${compiler:genii.new-deployment}/security/tls-cert.pfx</string>
                                    </object>
                                  </void>
                                  <void property="files">
                                    <array class="java.io.File" length="1">
                                      <void index="0">
                                        <object class="java.io.File">
                                          <string>deployments/${compiler:genii.new-deployment}/security/generated2.pfx</string>
                                        </object>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="overwriteMode">
                                    <object class="java.lang.Enum" method="valueOf">
                                      <class>com.install4j.api.context.OverwriteMode</class>
                                      <string>NEVER</string>
                                    </object>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                          <action name="update keystore properties" id="5007" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                                  <void property="files">
                                    <array class="java.io.File" length="1">
                                      <void index="0">
                                        <object class="java.io.File">
                                          <string>deployments/${compiler:genii.new-deployment}/configuration/security.properties</string>
                                        </object>
                                      </void>
                                    </array>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                        </actions>
                        <formComponents>
                          <formComponent name="Keystore Password" id="3020" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.TextfieldComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.TextfieldComponent">
                                  <void property="initialText">
                                    <string>container</string>
                                  </void>
                                  <void property="labelText">
                                    <string>Keystore Password</string>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.container-keystore-password</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                        </formComponents>
                      </screen>
                      <screen name="Provide Keypair" id="2605" customizedId="" beanClass="com.install4j.runtime.beans.screens.FormScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.screens.FormScreen">
                              <void property="subTitle">
                                <string>Specify the container's TLS key-pair file and password</string>
                              </void>
                              <void property="title">
                                <string>Provide Container Key-pair</string>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition>!(context.getBooleanVariable("genii.cert-generator"))</condition>
                        <validation />
                        <preActivation />
                        <postActivation />
                        <actions>
                          <action name="Copy tls keypair" id="2608" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CopyFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="4" errorMessage="">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.files.CopyFileAction">
                                  <void property="destinationFile">
                                    <object class="java.io.File">
                                      <string>deployments/${compiler:genii.new-deployment}/security/tls-cert.pfx</string>
                                    </object>
                                  </void>
                                  <void property="files">
                                    <array class="java.io.File" length="1">
                                      <void index="0">
                                        <object class="java.io.File">
                                          <string>${installer:genii.container-keypair-path}</string>
                                        </object>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="mode">
                                    <string>600</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                          <action name="update keystore properties" id="5005" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                                  <void property="files">
                                    <array class="java.io.File" length="1">
                                      <void index="0">
                                        <object class="java.io.File">
                                          <string>deployments/${compiler:genii.new-deployment}/configuration/security.properties</string>
                                        </object>
                                      </void>
                                    </array>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                        </actions>
                        <formComponents>
                          <formComponent name="" id="8400" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent">
                                  <void property="labelText">
                                    <string>The container's TLS key-pair file should be in PKCS#12 format, and is usually a file ending in .pfx.  This file will be copied to the container's grid deployment.</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                          <formComponent name="" id="4732" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.FileChooserComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.FileChooserComponent">
                                  <void property="initialBrowserDirectory">
                                    <string>${installer:sys.userHome}</string>
                                  </void>
                                  <void property="labelText">
                                    <string>Key-pair Path</string>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.container-keypair-path</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                          <formComponent name="Keypair path" id="2606" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.TextfieldComponent" enabled="false" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.TextfieldComponent">
                                  <void property="checkIfEmpty">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="labelText">
                                    <string>Keypair Path</string>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.container-keypair-path</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                          <formComponent name="Keystore password" id="3018" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.TextfieldComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.TextfieldComponent">
                                  <void property="checkIfEmpty">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="labelText">
                                    <string>Keystore Password</string>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.container-keystore-password</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                        </formComponents>
                      </screen>
                    </beans>
                  </group>
                  <group name="Windows" id="1019" customizedId="" beanClass="com.install4j.runtime.beans.groups.ScreenGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.ScreenGroup">
                          <void property="conditionExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64") 
</string>
                              </void>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <beans>
                      <screen name="Windows Service Confirmations" id="1020" customizedId="" beanClass="com.install4j.runtime.beans.screens.AdditionalConfirmationsScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.screens.AdditionalConfirmationsScreen" />
                          </java>
                        </serializedBean>
                        <condition />
                        <validation />
                        <preActivation />
                        <postActivation />
                        <actions />
                        <formComponents>
                          <formComponent name="Install Service" id="1021" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.CheckboxComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.CheckboxComponent" id="CheckboxComponent0">
                                  <void property="checkboxText">
                                    <string>Install Container as a Service?</string>
                                  </void>
                                  <void property="coupledComponentIds">
                                    <void method="add">
                                      <string>1022</string>
                                    </void>
                                  </void>
                                  <void property="initiallySelected">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.installAsService</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                          <formComponent name="Start Service" id="1022" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.CheckboxComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.CheckboxComponent">
                                  <void property="checkboxText">
                                    <string>Start Container Service?</string>
                                  </void>
                                  <void property="initiallySelected">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.startService</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                          <formComponent name="" id="1023" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.SpacerComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.SpacerComponent">
                                  <void property="height">
                                    <int>20</int>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                          <formComponent name="" id="1024" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.MultilineLabelComponent">
                                  <void property="labelText">
                                    <string>The Container receives requests on an open TCP network socket port.
In order for this to work, that port must not be currently blocked by your
Windows firewall.  If you would like, we can automatically unblock that
port for you.</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                          <formComponent name="Firewall" id="1025" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.CheckboxComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.CheckboxComponent">
                                  <void property="checkboxText">
                                    <string>Open Port in Firewall?</string>
                                  </void>
                                  <void property="initiallySelected">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.openFirewall</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                        </formComponents>
                      </screen>
                    </beans>
                  </group>
                  <group name="Unix Service Configuration" id="1026" customizedId="" beanClass="com.install4j.runtime.beans.groups.ScreenGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.ScreenGroup">
                          <void property="conditionExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>context.getVariable("genii.platform").equals("linux32") || context.getVariable("genii.platform").equals("linux64")</string>
                              </void>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <beans>
                      <screen name="Non-Windows Service Configuration" id="1027" customizedId="" beanClass="com.install4j.runtime.beans.screens.AdditionalConfirmationsScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.screens.AdditionalConfirmationsScreen" />
                          </java>
                        </serializedBean>
                        <condition />
                        <validation />
                        <preActivation />
                        <postActivation />
                        <actions />
                        <formComponents>
                          <formComponent name="Start Service" id="1028" customizedId="" beanClass="com.install4j.runtime.beans.formcomponents.CheckboxComponent" enabled="true" commentSet="false" comment="" insetTop="" insetLeft="" insetBottom="" insetRight="" resetInitOnPrevious="false">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.formcomponents.CheckboxComponent">
                                  <void property="checkboxText">
                                    <string>Start Container Service</string>
                                  </void>
                                  <void property="variableName">
                                    <string>genii.startService</string>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <initScript />
                            <visibilityScript />
                          </formComponent>
                        </formComponents>
                      </screen>
                    </beans>
                  </group>
                </beans>
              </group>
              <screen name="Configure Container Service Progress" id="1043" customizedId="" beanClass="com.install4j.runtime.beans.screens.CustomizableProgressScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.screens.CustomizableProgressScreen">
                      <void property="subTitle">
                        <string>Configuring Container</string>
                      </void>
                      <void property="title">
                        <string>Configure Container</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.isContainer").equals("true") </condition>
                <validation />
                <preActivation />
                <postActivation />
                <actions>
                  <action name="Set Progress to 37%" id="1067" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>37</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Set genii.container-memory" id="1044" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetVariableAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetVariableAction">
                          <void property="script">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>double fraction = Double.parseDouble(
    context.getCompilerVariable("genii.container-memory.fraction"));
long upperLimit = Long.parseLong(
    context.getCompilerVariable("genii.container-memory.upper-limit"));
long lowerLimit = Long.parseLong(
    context.getCompilerVariable("genii.container-memory.lower-limit"));
    
long memory = Math.round(SystemInfo.getPhysicalMemory() * fraction / 1024 / 1024);
if (memory &lt; lowerLimit)
    memory = lowerLimit;
if (memory &gt; upperLimit)
    memory = upperLimit;

return memory;</string>
                              </void>
                            </object>
                          </void>
                          <void property="variableName">
                            <string>genii.container-memory</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Replace Variables in wrapper.conf" id="1045" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to configure service wrapper configuration.">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                          <void property="failIfNoReplacement">
                            <boolean>true</boolean>
                          </void>
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>JavaServiceWrapper/wrapper/conf/wrapper.conf</string>
                                </object>
                              </void>
                            </array>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Set service wrapper permissions" id="1047" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.SetModeAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Can't set permissions on service wrapper.">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.SetModeAction">
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>JavaServiceWrapper/wrapper/bin</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="mode">
                            <string>755</string>
                          </void>
                          <void property="recursive">
                            <boolean>true</boolean>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition>context.getVariable("genii.platform").equals("linux32") || context.getVariable("genii.platform").equals("linux64")
</condition>
                  </action>
                  <action name="Set the MacOS access permissions" id="1372" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.SetModeAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Can't set permissions on service wrapper.">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.files.SetModeAction">
                          <void property="files">
                            <array class="java.io.File" length="1">
                              <void index="0">
                                <object class="java.io.File">
                                  <string>JavaServiceWrapper/wrapper/bin/wrapper-macosx-universal-64</string>
                                </object>
                              </void>
                            </array>
                          </void>
                          <void property="mode">
                            <string>755</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition>context.getVariable("genii.platform").equals("macosx64") 
</condition>
                  </action>
                  <action name="Set Progress to 50%" id="1068" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>50</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <group name="Prepare GFFSContainer Script" id="1048" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.ActionGroup">
                          <void property="conditionExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>
context.getVariable("genii.platform").equals("linux32") ||context.getVariable("genii.platform").equals("linux64")
</string>
                              </void>
                            </object>
                          </void>
                          <void property="defaultErrorMessage">
                            <string>Unable to prepare GFFSContainer script</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <beans>
                      <action name="Indicate:  Preparing GFFSContainer Script" id="1074" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetMessageAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.control.SetMessageAction">
                              <void property="statusMessage">
                                <string>Preparing GFFSContainer Script </string>
                              </void>
                              <void property="useStatus">
                                <boolean>true</boolean>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <action name="Remove unneeded wrappers" id="11298" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.RunScriptAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.control.RunScriptAction">
                              <void property="script">
                                <object class="com.install4j.api.beans.ScriptProperty">
                                  <void property="value">
                                    <string>
// if we don't clean up the other bit-size version of the wrapper binary on linux, then the wrapper picks the wrong one.

String plat = (String)context.getVariable("genii.platform");
String dir = context.getInstallationDirectory() + "/JavaServiceWrapper/wrapper/bin/";

File toDel = null;
if (plat == "linux32") {
    toDel = new File(dir, "wrapper-linux-x86-64");
} else if (plat == "linux64") {
    toDel = new File(dir, "wrapper-linux-x86-32");
}
if (toDel != null) {
    toDel.delete();
}

return true;
</string>
                                  </void>
                                </object>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <action name="Replace Variables in GFFSContainer" id="1049" customizedId="" beanClass="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.text.ReplaceInstallerVariablesAction">
                              <void property="files">
                                <array class="java.io.File" length="1">
                                  <void index="0">
                                    <object class="java.io.File">
                                      <string>JavaServiceWrapper/wrapper/bin/GFFSContainer</string>
                                    </object>
                                  </void>
                                </array>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <action name="" id="1050" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.SetModeAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Can't set permissions on service wrapper.">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.files.SetModeAction">
                              <void property="files">
                                <array class="java.io.File" length="1">
                                  <void index="0">
                                    <object class="java.io.File">
                                      <string>JavaServiceWrapper/wrapper/bin/GFFSContainer</string>
                                    </object>
                                  </void>
                                </array>
                              </void>
                              <void property="mode">
                                <string>755</string>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <action name="" id="1051" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.CreateSymlinkAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.files.CreateSymlinkAction">
                              <void property="file">
                                <object class="java.io.File">
                                  <string>JavaServiceWrapper/wrapper/bin/GFFSContainer</string>
                                </object>
                              </void>
                              <void property="linkFile">
                                <object class="java.io.File">
                                  <string>bin/GFFSContainer</string>
                                </object>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                    </beans>
                  </group>
                  <action name="Set Progress to 62%" id="1069" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>62</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <group name="Open Firewall" id="1052" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.ActionGroup">
                          <void property="conditionExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>context.getBooleanVariable("genii.openFirewall")</string>
                              </void>
                            </object>
                          </void>
                          <void property="defaultErrorMessage">
                            <string>Unable to open port for firewall.</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <beans>
                      <action name="Indicate:  Opening Firewall" id="1075" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetMessageAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.control.SetMessageAction">
                              <void property="statusMessage">
                                <string>Opening Firewall</string>
                              </void>
                              <void property="useStatus">
                                <boolean>true</boolean>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <action name="Open Port" id="1054" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                              <void property="arguments">
                                <array class="java.lang.String" length="6">
                                  <void index="0">
                                    <string>firewall</string>
                                  </void>
                                  <void index="1">
                                    <string>add</string>
                                  </void>
                                  <void index="2">
                                    <string>portopening</string>
                                  </void>
                                  <void index="3">
                                    <string>protocol=TCP</string>
                                  </void>
                                  <void index="4">
                                    <string>name=XCG Container</string>
                                  </void>
                                  <void index="5">
                                    <string>port=${installer:genii.xcg-port}</string>
                                  </void>
                                </array>
                              </void>
                              <void property="executable">
                                <object class="java.io.File">
                                  <string>${installer:sys.system32Dir}/netsh</string>
                                </object>
                              </void>
                              <void property="wait">
                                <boolean>true</boolean>
                              </void>
                              <void property="workingDirectory">
                                <object class="java.io.File">
                                  <string>.</string>
                                </object>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                    </beans>
                  </group>
                  <action name="Set Progress to 75%" id="1070" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>75</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <group name="Install Service" id="1055" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.ActionGroup">
                          <void property="conditionExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>context.getBooleanVariable("genii.installAsService")</string>
                              </void>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <beans>
                      <action name="Indicate:  Installing Container Service" id="1076" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetMessageAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.control.SetMessageAction">
                              <void property="statusMessage">
                                <string>Installing Container Service</string>
                              </void>
                              <void property="useStatus">
                                <boolean>true</boolean>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <action name="enable user running as service" id="9212" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                              <void property="arguments">
                                <array class="java.lang.String" length="4">
                                  <void index="0">
                                    <string>+r</string>
                                  </void>
                                  <void index="1">
                                    <string>SeServiceLogonRight</string>
                                  </void>
                                  <void index="2">
                                    <string>-u</string>
                                  </void>
                                  <void index="3">
                                    <string>${installer:genii.wrapperdomain}\\${installer:genii.username}</string>
                                  </void>
                                </array>
                              </void>
                              <void property="executable">
                                <object class="java.io.File">
                                  <string>ext/ntrights</string>
                                </object>
                              </void>
                              <void property="wait">
                                <boolean>true</boolean>
                              </void>
                              <void property="workingDirectory">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}</string>
                                </object>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <action name="enable user running as service" id="9215" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                              <void property="arguments">
                                <array class="java.lang.String" length="4">
                                  <void index="0">
                                    <string>+r</string>
                                  </void>
                                  <void index="1">
                                    <string>SeServiceLogonRight</string>
                                  </void>
                                  <void index="2">
                                    <string>-u</string>
                                  </void>
                                  <void index="3">
                                    <string>${installer:genii.username}</string>
                                  </void>
                                </array>
                              </void>
                              <void property="executable">
                                <object class="java.io.File">
                                  <string>ext/ntrights</string>
                                </object>
                              </void>
                              <void property="wait">
                                <boolean>true</boolean>
                              </void>
                              <void property="workingDirectory">
                                <object class="java.io.File">
                                  <string>${installer:sys.installationDir}</string>
                                </object>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <action name="Install Container Wrapper" id="1057" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="4" errorMessage="Unable to install container service; login or permissions problem">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                              <void property="arguments">
                                <array class="java.lang.String" length="2">
                                  <void index="0">
                                    <string>-i</string>
                                  </void>
                                  <void index="1">
                                    <string>../conf/wrapper.conf</string>
                                  </void>
                                </array>
                              </void>
                              <void property="executable">
                                <object class="java.io.File">
                                  <string>JavaServiceWrapper/wrapper/bin/wrapper-windows-x86-32.exe</string>
                                </object>
                              </void>
                              <void property="showWindowsConsole">
                                <boolean>true</boolean>
                              </void>
                              <void property="wait">
                                <boolean>true</boolean>
                              </void>
                              <void property="workingDirectory">
                                <object class="java.io.File">
                                  <string>JavaServiceWrapper/wrapper/bin</string>
                                </object>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                    </beans>
                  </group>
                  <action name="Set Progress to 87%" id="1071" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>87</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <group name="Start Service" id="1058" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.groups.ActionGroup">
                          <void property="conditionExpression">
                            <object class="com.install4j.api.beans.ScriptProperty">
                              <void property="value">
                                <string>boolean onWindows = context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64");
boolean startService = context.getBooleanVariable("genii.startService");
boolean installService = context.getBooleanVariable("genii.installAsService");

if (onWindows)
    return startService &amp;&amp; installService;
else
return startService;</string>
                              </void>
                            </object>
                          </void>
                          <void property="defaultErrorMessage">
                            <string>Unable to start Container Service</string>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <beans>
                      <action name="Indicate:  Starting Service" id="1077" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetMessageAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.actions.control.SetMessageAction">
                              <void property="statusMessage">
                                <string>Starting Container Service</string>
                              </void>
                              <void property="useStatus">
                                <boolean>true</boolean>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <condition />
                      </action>
                      <group name="Start Windows Service" id="1060" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.groups.ActionGroup">
                              <void property="conditionExpression">
                                <object class="com.install4j.api.beans.ScriptProperty">
                                  <void property="value">
                                    <string>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64")</string>
                                  </void>
                                </object>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <beans>
                          <action name="Run wrapper.exe" id="1061" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to start Container Service">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                                  <void property="arguments">
                                    <array class="java.lang.String" length="2">
                                      <void index="0">
                                        <string>-t</string>
                                      </void>
                                      <void index="1">
                                        <string>../conf/wrapper.conf</string>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="executable">
                                    <object class="java.io.File">
                                      <string>JavaServiceWrapper/wrapper/bin/wrapper-windows-x86-32.exe</string>
                                    </object>
                                  </void>
                                  <void property="wait">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="workingDirectory">
                                    <object class="java.io.File">
                                      <string>JavaServiceWrapper/wrapper/bin</string>
                                    </object>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                        </beans>
                      </group>
                      <group name="Start Unix Service" id="1062" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                        <serializedBean>
                          <java class="java.beans.XMLDecoder">
                            <object class="com.install4j.runtime.beans.groups.ActionGroup">
                              <void property="conditionExpression">
                                <object class="com.install4j.api.beans.ScriptProperty">
                                  <void property="value">
                                    <string>context.getVariable("genii.platform").equals("linux32") || context.getVariable("genii.platform").equals("linux64")</string>
                                  </void>
                                </object>
                              </void>
                            </object>
                          </java>
                        </serializedBean>
                        <beans>
                          <action name="Start Container" id="1063" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="Unable to start Container Service">
                            <serializedBean>
                              <java class="java.beans.XMLDecoder">
                                <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                                  <void property="arguments">
                                    <array class="java.lang.String" length="1">
                                      <void index="0">
                                        <string>start</string>
                                      </void>
                                    </array>
                                  </void>
                                  <void property="executable">
                                    <object class="java.io.File">
                                      <string>bin/GFFSContainer</string>
                                    </object>
                                  </void>
                                  <void property="wait">
                                    <boolean>true</boolean>
                                  </void>
                                  <void property="workingDirectory">
                                    <object class="java.io.File">
                                      <string>.</string>
                                    </object>
                                  </void>
                                </object>
                              </java>
                            </serializedBean>
                            <condition />
                          </action>
                        </beans>
                      </group>
                    </beans>
                  </group>
                  <action name="Set Progress to 100%" id="1072" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                          <void property="percentValue">
                            <int>100</int>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                </actions>
                <formComponents />
              </screen>
            </beans>
          </group>
          <screen name="" id="11" customizedId="" beanClass="com.install4j.runtime.beans.screens.FinishedScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="true" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.FinishedScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <action name="" id="354" customizedId="" beanClass="com.install4j.runtime.beans.actions.registry.SaveInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.registry.SaveInstallerVariablesAction">
                      <void property="installerVariables">
                        <array class="java.lang.String" length="9">
                          <void index="0">
                            <string>genii.installAsService</string>
                          </void>
                          <void index="1">
                            <string>genii.startService</string>
                          </void>
                          <void index="2">
                            <string>genii.username</string>
                          </void>
                          <void index="3">
                            <string>genii.platform</string>
                          </void>
                          <void index="4">
                            <string>genii.hasContainer</string>
                          </void>
                          <void index="5">
                            <string>genii.openFirewall</string>
                          </void>
                          <void index="6">
                            <string>genii.xcg-port</string>
                          </void>
                          <void index="7">
                            <string>genii.jnipath</string>
                          </void>
                          <void index="8">
                            <string>genii.isContainer</string>
                          </void>
                        </array>
                      </void>
                      <void property="packageName">
                        <string>${compiler:sys.applicationId}</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="" id="5250" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                      <void property="files">
                        <array class="java.io.File" length="2">
                          <void index="0">
                            <object class="java.io.File">
                              <string>deployments/${compiler:genii.new-deployment}/security/generated1.pfx</string>
                            </object>
                          </void>
                          <void index="1">
                            <object class="java.io.File">
                              <string>deployments/${compiler:genii.new-deployment}/security/generated2.pfx</string>
                            </object>
                          </void>
                        </array>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
            </actions>
            <formComponents />
          </screen>
        </screens>
      </application>
      <application name="" id="uninstaller" customizedId="" beanClass="com.install4j.runtime.beans.applications.UninstallerApplication" enabled="true" commentSet="false" comment="" actionElevationType="none" fileset="" customIcnsFile="" customIcoFile="" macEntitlementsFile="" automaticLauncherIntegration="false" launchMode="startupFirstWindow" launchInNewProcess="false" launchSchedule="updateSchedule" allLaunchers="true">
        <serializedBean>
          <java class="java.beans.XMLDecoder">
            <object class="com.install4j.runtime.beans.applications.UninstallerApplication">
              <void property="customMacosExecutableName">
                <string>${i18n:UninstallerMenuEntry(${compiler:sys.fullName})}</string>
              </void>
              <void property="frameSizeClientArea">
                <boolean>false</boolean>
              </void>
              <void property="useCustomMacosExecutableName">
                <boolean>true</boolean>
              </void>
            </object>
          </java>
        </serializedBean>
        <launcherIds />
        <variables />
        <startup>
          <screen name="" id="12" customizedId="" beanClass="com.install4j.runtime.beans.screens.StartupScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.StartupScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <link name="" id="1918" customizedId="" beanClass="" enabled="true" targetId="1916" mergedProjectId="" />
              <action name="" id="332" customizedId="" beanClass="com.install4j.runtime.beans.actions.registry.LoadInstallerVariablesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.registry.LoadInstallerVariablesAction">
                      <void property="packageName">
                        <string>${compiler:sys.applicationId}</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="" id="18" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.LoadResponseFileAction" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.LoadResponseFileAction" />
                  </java>
                </serializedBean>
                <condition />
              </action>
            </actions>
            <formComponents />
          </screen>
        </startup>
        <screens>
          <screen name="" id="13" customizedId="" beanClass="com.install4j.runtime.beans.screens.UninstallWelcomeScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.UninstallWelcomeScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions />
            <formComponents />
          </screen>
          <screen name="Manage Container" id="328" customizedId="" beanClass="com.install4j.runtime.beans.screens.CustomizableProgressScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.CustomizableProgressScreen">
                  <void property="cancelEnabled">
                    <boolean>false</boolean>
                  </void>
                  <void property="subTitle">
                    <string>Managing Container</string>
                  </void>
                  <void property="title">
                    <string>Managing Container</string>
                  </void>
                </object>
              </java>
            </serializedBean>
            <condition>context.getBooleanVariable("genii.hasContainer")</condition>
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <action name="" id="338" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetProgressAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.SetProgressAction">
                      <void property="progressChangeType">
                        <object class="java.lang.Enum" method="valueOf">
                          <class>com.install4j.runtime.beans.actions.control.ProgressChangeType</class>
                          <string>SET_INDETERMINATE</string>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <group name="Close Firewall Port" id="368" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.groups.ActionGroup">
                      <void property="conditionExpression">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64") </string>
                          </void>
                        </object>
                      </void>
                      <void property="defaultErrorMessage">
                        <string>Unable to close firewall port opening.</string>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <beans>
                  <action name="" id="369" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetMessageAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetMessageAction">
                          <void property="statusMessage">
                            <string>Closing firewall port opening</string>
                          </void>
                          <void property="useStatus">
                            <boolean>true</boolean>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="" id="370" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                          <void property="arguments">
                            <array class="java.lang.String" length="5">
                              <void index="0">
                                <string>firewall</string>
                              </void>
                              <void index="1">
                                <string>delete</string>
                              </void>
                              <void index="2">
                                <string>portopening</string>
                              </void>
                              <void index="3">
                                <string>protocol=TCP</string>
                              </void>
                              <void index="4">
                                <string>port=${installer:genii.xcg-port}</string>
                              </void>
                            </array>
                          </void>
                          <void property="executable">
                            <object class="java.io.File">
                              <string>${installer:sys.system32Dir}/netsh.exe</string>
                            </object>
                          </void>
                          <void property="wait">
                            <boolean>true</boolean>
                          </void>
                          <void property="workingDirectory">
                            <object class="java.io.File">
                              <string>.</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                </beans>
              </group>
              <group name="Unix Container Management" id="337" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.groups.ActionGroup">
                      <void property="conditionExpression">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>context.getVariable("genii.platform").equals("linux32") || context.getVariable("genii.platform").equals("linux64")</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <beans>
                  <action name="" id="353" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetMessageAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetMessageAction">
                          <void property="statusMessage">
                            <string>Stopping Container Service</string>
                          </void>
                          <void property="useStatus">
                            <boolean>true</boolean>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Stop GFFSContainer" id="340" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                          <void property="arguments">
                            <array class="java.lang.String" length="1">
                              <void index="0">
                                <string>stop</string>
                              </void>
                            </array>
                          </void>
                          <void property="executable">
                            <object class="java.io.File">
                              <string>GFFSContainer</string>
                            </object>
                          </void>
                          <void property="wait">
                            <boolean>true</boolean>
                          </void>
                          <void property="workingDirectory">
                            <object class="java.io.File">
                              <string>.</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                </beans>
              </group>
              <group name="Windows Container Management" id="335" customizedId="" beanClass="com.install4j.runtime.beans.groups.ActionGroup" enabled="true" commentSet="false" comment="" actionElevationType="inherit">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.groups.ActionGroup">
                      <void property="conditionExpression">
                        <object class="com.install4j.api.beans.ScriptProperty">
                          <void property="value">
                            <string>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64") 
 &amp;&amp; context.getBooleanVariable("genii.installAsService")</string>
                          </void>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <beans>
                  <action name="" id="352" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SetMessageAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.control.SetMessageAction">
                          <void property="statusMessage">
                            <string>Uninstalling Container Service</string>
                          </void>
                          <void property="useStatus">
                            <boolean>true</boolean>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                  <action name="Uninstall Service" id="349" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="3" errorMessage="Unable to uninstall container service">
                    <serializedBean>
                      <java class="java.beans.XMLDecoder">
                        <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                          <void property="arguments">
                            <array class="java.lang.String" length="2">
                              <void index="0">
                                <string>-r</string>
                              </void>
                              <void index="1">
                                <string>../conf/wrapper.conf</string>
                              </void>
                            </array>
                          </void>
                          <void property="executable">
                            <object class="java.io.File">
                              <string>JavaServiceWrapper/wrapper/bin/wrapper-windows-x86-32.exe</string>
                            </object>
                          </void>
                          <void property="wait">
                            <boolean>true</boolean>
                          </void>
                          <void property="workingDirectory">
                            <object class="java.io.File">
                              <string>JavaServiceWrapper/wrapper/bin</string>
                            </object>
                          </void>
                        </object>
                      </java>
                    </serializedBean>
                    <condition />
                  </action>
                </beans>
              </group>
            </actions>
            <formComponents />
          </screen>
          <screen name="" id="14" customizedId="" beanClass="com.install4j.runtime.beans.screens.UninstallationScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="false" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.UninstallationScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions>
              <action name="Stop windows service" id="5809" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                      <void property="arguments">
                        <array class="java.lang.String" length="2">
                          <void index="0">
                            <string>stop</string>
                          </void>
                          <void index="1">
                            <string>XCG Container</string>
                          </void>
                        </array>
                      </void>
                      <void property="executable">
                        <object class="java.io.File">
                          <string>${installer:sys.system32Dir}/sc.exe</string>
                        </object>
                      </void>
                      <void property="wait">
                        <boolean>true</boolean>
                      </void>
                      <void property="workingDirectory">
                        <object class="java.io.File">
                          <string>${installer:sys.installationDir}</string>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64")</condition>
              </action>
              <action name="" id="5812" customizedId="" beanClass="com.install4j.runtime.beans.actions.control.SleepAction" enabled="true" commentSet="false" comment="" actionElevationType="none" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.control.SleepAction">
                      <void property="sleepTimeMs">
                        <int>5000</int>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64")</condition>
              </action>
              <action name="Remove windows service" id="5810" customizedId="" beanClass="com.install4j.runtime.beans.actions.misc.RunExecutableAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.misc.RunExecutableAction">
                      <void property="arguments">
                        <array class="java.lang.String" length="2">
                          <void index="0">
                            <string>delete</string>
                          </void>
                          <void index="1">
                            <string>XCG Container</string>
                          </void>
                        </array>
                      </void>
                      <void property="executable">
                        <object class="java.io.File">
                          <string>${installer:sys.system32Dir}/sc.exe</string>
                        </object>
                      </void>
                      <void property="wait">
                        <boolean>true</boolean>
                      </void>
                      <void property="workingDirectory">
                        <object class="java.io.File">
                          <string>${installer:sys.installationDir}</string>
                        </object>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition>context.getVariable("genii.platform").equals("windows32") || context.getVariable("genii.platform").equals("windows64")</condition>
              </action>
              <action name="Delete Deployments" id="514" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                      <void property="files">
                        <array class="java.io.File" length="1">
                          <void index="0">
                            <object class="java.io.File">
                              <string>deployments</string>
                            </object>
                          </void>
                        </array>
                      </void>
                      <void property="recursive">
                        <boolean>true</boolean>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Delete container.log" id="56" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                      <void property="files">
                        <array class="java.io.File" length="1">
                          <void index="0">
                            <object class="java.io.File">
                              <string>container.log</string>
                            </object>
                          </void>
                        </array>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Delete container.properties" id="51" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                      <void property="files">
                        <array class="java.io.File" length="1">
                          <void index="0">
                            <object class="java.io.File">
                              <string>lib/container.properties</string>
                            </object>
                          </void>
                        </array>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Delete JavaServiceWrapper" id="262" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                      <void property="files">
                        <array class="java.io.File" length="1">
                          <void index="0">
                            <object class="java.io.File">
                              <string>JavaServiceWrapper</string>
                            </object>
                          </void>
                        </array>
                      </void>
                      <void property="recursive">
                        <boolean>true</boolean>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="Delete webapps" id="263" customizedId="" beanClass="com.install4j.runtime.beans.actions.files.DeleteFileAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.files.DeleteFileAction">
                      <void property="files">
                        <array class="java.io.File" length="1">
                          <void index="0">
                            <object class="java.io.File">
                              <string>webapps</string>
                            </object>
                          </void>
                        </array>
                      </void>
                      <void property="recursive">
                        <boolean>true</boolean>
                      </void>
                    </object>
                  </java>
                </serializedBean>
                <condition />
              </action>
              <action name="" id="15" customizedId="" beanClass="com.install4j.runtime.beans.actions.UninstallFilesAction" enabled="true" commentSet="false" comment="" actionElevationType="elevated" rollbackBarrier="false" multiExec="false" failureStrategy="1" errorMessage="">
                <serializedBean>
                  <java class="java.beans.XMLDecoder">
                    <object class="com.install4j.runtime.beans.actions.UninstallFilesAction" />
                  </java>
                </serializedBean>
                <condition />
              </action>
            </actions>
            <formComponents />
          </screen>
          <screen name="" id="17" customizedId="" beanClass="com.install4j.runtime.beans.screens.UninstallFailureScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="true" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.UninstallFailureScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions />
            <formComponents />
          </screen>
          <screen name="" id="16" customizedId="" beanClass="com.install4j.runtime.beans.screens.UninstallSuccessScreen" enabled="true" commentSet="false" comment="" actionElevationType="inherit" rollbackBarrier="false" backButton="2" finishScreen="true" wizardIndexChangeType="unchanged" wizardIndexKey="">
            <serializedBean>
              <java class="java.beans.XMLDecoder">
                <object class="com.install4j.runtime.beans.screens.UninstallSuccessScreen" />
              </java>
            </serializedBean>
            <condition />
            <validation />
            <preActivation />
            <postActivation />
            <actions />
            <formComponents />
          </screen>
        </screens>
      </application>
    </applications>
  </installerGui>
  <mediaSets>
    <macosFolder name="mac64_gui" id="2088" customizedId="" mediaFileName="${compiler:sys.shortName}-${compiler:sys.version}-macosx-${compiler:genii.name-addin}" installDir="GenesisII" overridePrincipalLanguage="false" jreBitType="all" runPostProcessor="false" postProcessor="" failOnPostProcessorError="false" useLegacyMediaFileIds="false" legacyMediaFileIds="" downloadURL="http://vcgr.cs.virginia.edu/XCG/2.0/downloads" includeAllDownloadableComponents="false" includedJRE="macosx-amd64-1.8.0_66_unpacked" manualJREEntry="false" bundleType="1" jreURL="" jreShared="false" directDownload="false" installOnlyIfNecessary="false" appleJre="false" requiredVmIdPrefix="" customInstallBaseDir="" contentFilesType="1" installerName="${i18n:InstallerName(${compiler:sys.fullName})}" volumeName="${compiler:sys.shortName}" compressDmg="false" signLaunchers="false">
      <excludedComponents>
        <component id="30" />
        <component id="40" />
      </excludedComponents>
      <includedDownloadableComponents />
      <excludedLaunchers>
        <launcher id="264" />
        <launcher id="1450" />
        <launcher id="5619" />
        <launcher id="5622" />
      </excludedLaunchers>
      <excludedBeans />
      <overriddenPrincipalLanguage id="en" customLocalizationFile="" />
      <exclude />
      <variables>
        <variable name="genii.name-addin" value="x86_64" description="" category="" />
      </variables>
      <autoUpdate useMinUpdatableVersion="false" minUpdatableVersion="" useMaxUpdatableVersion="false" maxUpdatableVersion="">
        <commentFiles />
        <customAttributes />
      </autoUpdate>
      <topLevelFiles />
    </macosFolder>
    <unixInstaller name="linux64_gui" id="3416" customizedId="" mediaFileName="${compiler:sys.shortName}-${compiler:sys.version}-linux-${compiler:genii.name-addin}" installDir="GenesisII" overridePrincipalLanguage="false" jreBitType="all" runPostProcessor="false" postProcessor="" failOnPostProcessorError="false" useLegacyMediaFileIds="false" legacyMediaFileIds="" downloadURL="http://vcgr.cs.virginia.edu/XCG/2.0/downloads" includeAllDownloadableComponents="false" includedJRE="linux-amd64-1.8.0_66" manualJREEntry="false" bundleType="1" jreURL="" jreShared="false" directDownload="false" installOnlyIfNecessary="false" customInstallBaseDir="" contentFilesType="1">
      <excludedComponents>
        <component id="30" />
      </excludedComponents>
      <includedDownloadableComponents />
      <excludedLaunchers>
        <launcher id="1450" />
        <launcher id="5619" />
        <launcher id="5622" />
      </excludedLaunchers>
      <excludedBeans />
      <overriddenPrincipalLanguage id="en" customLocalizationFile="" />
      <exclude>
        <entry location=".i4j_fileset_19" fileType="regular" />
        <entry location=".i4j_fileset_23" fileType="regular" />
        <entry location=".i4j_fileset_3620" fileType="regular" />
        <entry location=".i4j_fileset_8975" fileType="regular" />
      </exclude>
      <variables>
        <variable name="genii.name-addin" value="x86_64" description="" category="" />
      </variables>
      <autoUpdate useMinUpdatableVersion="false" minUpdatableVersion="" useMaxUpdatableVersion="false" maxUpdatableVersion="">
        <commentFiles />
        <customAttributes />
      </autoUpdate>
      <installerScript mode="1" file="">
        <content />
      </installerScript>
    </unixInstaller>
    <linuxDeb name="gffs_deb" id="5991" customizedId="" mediaFileName="${compiler:sys.shortName}-${compiler:sys.version}-${compiler:genii.release-number}-x86_64" installDir="/opt/${compiler:sys.shortName}" overridePrincipalLanguage="false" jreBitType="all" runPostProcessor="false" postProcessor="" failOnPostProcessorError="false" useLegacyMediaFileIds="false" legacyMediaFileIds="" downloadURL="" includeAllDownloadableComponents="true" includedJRE="" manualJREEntry="false" overwriteNeverAsConfigFiles="false" bzip="false" description="GenesisII GFFS Client Software" dependencies="bash" maintainerEmail="xcghelp@cs.virginia.edu" architectureSet="false" architecture="">
      <excludedComponents />
      <includedDownloadableComponents />
      <excludedLaunchers>
        <launcher id="264" />
        <launcher id="1450" />
        <launcher id="5619" />
        <launcher id="5622" />
      </excludedLaunchers>
      <excludedBeans />
      <overriddenPrincipalLanguage id="en" customLocalizationFile="" />
      <exclude>
        <entry location=".i4j_fileset_19" fileType="regular" />
        <entry location=".i4j_fileset_23" fileType="regular" />
        <entry location=".i4j_fileset_3620" fileType="regular" />
        <entry location=".i4j_fileset_8975" fileType="regular" />
      </exclude>
      <variables>
        <variable name="genii.name-addin" value="x86_64" description="" category="" />
      </variables>
      <autoUpdate useMinUpdatableVersion="false" minUpdatableVersion="" useMaxUpdatableVersion="false" maxUpdatableVersion="">
        <commentFiles />
        <customAttributes />
      </autoUpdate>
      <preInstallScript mode="2" file="./scripts/software_pre_install.sh">
        <content />
      </preInstallScript>
      <postInstallScript mode="2" file="./scripts/software_post_install.sh">
        <content />
      </postInstallScript>
      <preUninstallScript mode="2" file="./scripts/software_pre_uninstall.sh">
        <content />
      </preUninstallScript>
      <postUninstallScript mode="2" file="./scripts/software_post_uninstall.sh">
        <content />
      </postUninstallScript>
    </linuxDeb>
    <windows name="windows64_gui" id="8974" customizedId="" mediaFileName="${compiler:sys.shortName}-${compiler:sys.version}-windows-${compiler:genii.name-addin}" installDir="GenesisII" overridePrincipalLanguage="false" jreBitType="64" runPostProcessor="false" postProcessor="" failOnPostProcessorError="false" useLegacyMediaFileIds="false" legacyMediaFileIds="" downloadURL="http://vcgr.cs.virginia.edu/XCG/2.0/downloads" includeAllDownloadableComponents="false" includedJRE="windows-amd64-1.8.0_66" manualJREEntry="false" bundleType="1" jreURL="" jreShared="false" directDownload="false" installOnlyIfNecessary="false" customInstallBaseDir="" contentFilesType="1" verifyIntegrity="true">
      <excludedComponents>
        <component id="30" />
      </excludedComponents>
      <includedDownloadableComponents />
      <excludedLaunchers>
        <launcher id="1450" />
        <launcher id="5619" />
        <launcher id="5622" />
      </excludedLaunchers>
      <excludedBeans />
      <overriddenPrincipalLanguage id="en" customLocalizationFile="" />
      <exclude>
        <entry location=".i4j_fileset_19" fileType="regular" />
        <entry location=".i4j_fileset_21" fileType="regular" />
        <entry location=".i4j_fileset_23" fileType="regular" />
        <entry location=".i4j_fileset_3620" fileType="regular" />
      </exclude>
      <variables>
        <variable name="genii.client-memory.win32" value="2048" description="" category="" />
        <variable name="genii.name-addin" value="x86_64" description="" category="" />
      </variables>
      <autoUpdate useMinUpdatableVersion="false" minUpdatableVersion="" useMaxUpdatableVersion="false" maxUpdatableVersion="">
        <commentFiles />
        <customAttributes />
      </autoUpdate>
    </windows>
    <unixInstaller name="linux32_gui" id="11295" customizedId="" mediaFileName="${compiler:sys.shortName}-${compiler:sys.version}-linux-${compiler:genii.name-addin}" installDir="GenesisII" overridePrincipalLanguage="false" jreBitType="all" runPostProcessor="false" postProcessor="" failOnPostProcessorError="false" useLegacyMediaFileIds="false" legacyMediaFileIds="" downloadURL="http://vcgr.cs.virginia.edu/XCG/2.0/downloads" includeAllDownloadableComponents="false" includedJRE="linux-x86-1.8.0_66" manualJREEntry="false" bundleType="1" jreURL="" jreShared="false" directDownload="false" installOnlyIfNecessary="false" customInstallBaseDir="" contentFilesType="1">
      <excludedComponents>
        <component id="30" />
      </excludedComponents>
      <includedDownloadableComponents />
      <excludedLaunchers>
        <launcher id="1450" />
        <launcher id="5619" />
        <launcher id="5622" />
      </excludedLaunchers>
      <excludedBeans />
      <overriddenPrincipalLanguage id="en" customLocalizationFile="" />
      <exclude>
        <entry location=".i4j_fileset_19" fileType="regular" />
        <entry location=".i4j_fileset_23" fileType="regular" />
        <entry location=".i4j_fileset_3620" fileType="regular" />
        <entry location=".i4j_fileset_8975" fileType="regular" />
      </exclude>
      <variables>
        <variable name="genii.name-addin" value="x86_32" description="" category="" />
      </variables>
      <autoUpdate useMinUpdatableVersion="false" minUpdatableVersion="" useMaxUpdatableVersion="false" maxUpdatableVersion="">
        <commentFiles />
        <customAttributes />
      </autoUpdate>
      <installerScript mode="1" file="">
        <content />
      </installerScript>
    </unixInstaller>
    <windows name="windows32_gui" id="11297" customizedId="" mediaFileName="${compiler:sys.shortName}-${compiler:sys.version}-windows-${compiler:genii.name-addin}" installDir="GenesisII" overridePrincipalLanguage="false" jreBitType="32" runPostProcessor="false" postProcessor="" failOnPostProcessorError="false" useLegacyMediaFileIds="false" legacyMediaFileIds="" downloadURL="http://vcgr.cs.virginia.edu/XCG/2.0/downloads" includeAllDownloadableComponents="false" includedJRE="windows-x86-1.8.0_66" manualJREEntry="false" bundleType="1" jreURL="" jreShared="false" directDownload="false" installOnlyIfNecessary="false" customInstallBaseDir="" contentFilesType="1" verifyIntegrity="true">
      <excludedComponents>
        <component id="30" />
      </excludedComponents>
      <includedDownloadableComponents />
      <excludedLaunchers>
        <launcher id="1450" />
        <launcher id="39" />
        <launcher id="1773" />
      </excludedLaunchers>
      <excludedBeans />
      <overriddenPrincipalLanguage id="en" customLocalizationFile="" />
      <exclude>
        <entry location=".i4j_fileset_19" fileType="regular" />
        <entry location=".i4j_fileset_21" fileType="regular" />
        <entry location=".i4j_fileset_23" fileType="regular" />
        <entry location=".i4j_fileset_3620" fileType="regular" />
      </exclude>
      <variables>
        <variable name="genii.name-addin" value="x86_32" description="" category="" />
        <variable name="genii.client-memory.win32" value="1000" description="" category="" />
      </variables>
      <autoUpdate useMinUpdatableVersion="false" minUpdatableVersion="" useMaxUpdatableVersion="false" maxUpdatableVersion="">
        <commentFiles />
        <customAttributes />
      </autoUpdate>
    </windows>
  </mediaSets>
  <buildIds buildAll="true">
    <mediaSet refId="3416" />
  </buildIds>
  <buildOptions verbose="true" faster="false" disableSigning="false" disableJreBundling="false" debug="false" />
</install4j>
